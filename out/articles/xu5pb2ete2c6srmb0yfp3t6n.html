<!DOCTYPE html><html><head><meta charSet="utf-8"/><link rel="icon" href="/favicon.ico"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>AWSプロファイル切り替え<!-- --> | レイズクロス Tech Blog</title><meta name="next-head-count" content="4"/><link rel="preload" href="/_next/static/css/7d757bdfdfb985a7.css" as="style"/><link rel="stylesheet" href="/_next/static/css/7d757bdfdfb985a7.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-42372ed130431b0a.js"></script><script src="/_next/static/chunks/webpack-2c547fd4592db0a6.js" defer=""></script><script src="/_next/static/chunks/framework-e952fed463eb8e34.js" defer=""></script><script src="/_next/static/chunks/main-db60732262e3da6e.js" defer=""></script><script src="/_next/static/chunks/pages/_app-b6737859a806843a.js" defer=""></script><script src="/_next/static/chunks/a2bf56a3-f921f321ae1e0e8d.js" defer=""></script><script src="/_next/static/chunks/61-92d26e53a2a7fcf5.js" defer=""></script><script src="/_next/static/chunks/257-c12ad0b16790f4c5.js" defer=""></script><script src="/_next/static/chunks/pages/articles/%5Bid%5D-7cfc7284c2566c9d.js" defer=""></script><script src="/_next/static/QTcQf_D8J2NMGF1e92-0w/_buildManifest.js" defer=""></script><script src="/_next/static/QTcQf_D8J2NMGF1e92-0w/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="max-w-[1024px] mx-auto px-4"><header class="sticky top-0 z-20 bg-white border-b border-gray-200 h-12 flex items-center justify-between px-4"><a class="text-blue-600 no-underline hover:text-gray-600 text-lg font-bold" href="/">📋 レイズクロス Tech Blog</a><div class="flex gap-3"><a href="https://twitter.com/share" target="_blank" rel="noopener noreferrer"><img src="/icons/x.svg" alt="Share on X" class="h-7 w-7"/></a><a href="https://www.facebook.com/sharer/sharer.php" target="_blank" rel="noopener noreferrer"><img src="/icons/facebook.svg" alt="Share on Facebook" class="h-7 w-7"/></a><a href="https://social-plugins.line.me/lineit/share" target="_blank" rel="noopener noreferrer"><img src="/icons/line.svg" alt="Share on LINE" class="h-7 w-7"/></a></div></header><article class="prose prose-slate max-w-none pt-6"><h1 class="text-3xl font-bold border-b pb-2">AWSプロファイル切り替え</h1><div class="text-sm text-gray-500 mb-4">投稿更新日: <!-- -->2025/6/1 17:23:55</div><div class="flex flex-wrap gap-2 mb-4"><span class="bg-blue-100 text-blue-800 text-xs font-semibold px-2 py-1 rounded-full">#<!-- -->AWS</span><span class="bg-blue-100 text-blue-800 text-xs font-semibold px-2 py-1 rounded-full">#<!-- -->クラウド</span></div><div class="w-full flex justify-center mb-6"><img src="https://stg-raisex-tech-blog.s3.ap-northeast-1.amazonaws.com/medium_20250513_03_0767e419b3.png" alt="サムネイル" class="w-full max-w-[800px] h-auto rounded"/></div><p>AWS CLIを使用する際、複数のアカウントや環境を使い分けたい場合があります。例えば、開発環境や本番環境、もしくは異なるプロジェクトにおけるアクセスキーを使い分けたい時です。この記事では、AWS CLIでプロファイルを切り替える方法について、基本的な設定から具体的に使い分ける方法までを紹介します。</p>
<hr/>
<h1>1. ローカルのAWSプロファイル設定</h1>
<p>まず、AWS CLIをインストールした後、初めて使用する際には<code class="bg-yellow-200 font-mono px-[0.3rem] py-[0.1rem] rounded whitespace-nowrap text-inherit">aws configure</code>コマンドでAWSの認証情報を設定します。このコマンドで設定されるプロファイルは、デフォルトで「<code class="bg-yellow-200 font-mono px-[0.3rem] py-[0.1rem] rounded whitespace-nowrap text-inherit">default</code>」という名前で保存されます。</p>
<h3>コマンド例</h3>
<pre><div class="relative my-4"><button class="absolute top-2 right-2 text-xs bg-gray-700 text-white px-2 py-1 rounded hover:bg-gray-600">Copy</button><pre style="background:transparent;color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre-wrap;word-spacing:normal;word-break:break-word;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:0.75rem;margin:0;overflow:auto;border-radius:0.5rem;overflow-x:auto"><code class="language-bash" style="white-space:pre;background:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>$ aws configure
</span><span>AWS Access Key ID </span><span class="token" style="color:hsl(220, 14%, 71%)">[</span><span>None</span><span class="token" style="color:hsl(220, 14%, 71%)">]</span><span>: xxxxxxxxxx
</span><span>AWS Secret Access Key </span><span class="token" style="color:hsl(220, 14%, 71%)">[</span><span>None</span><span class="token" style="color:hsl(220, 14%, 71%)">]</span><span>: xxxxxxxxxx
</span><span>Default region name </span><span class="token" style="color:hsl(220, 14%, 71%)">[</span><span>None</span><span class="token" style="color:hsl(220, 14%, 71%)">]</span><span>: ap-northeast-1
</span><span>Default output </span><span class="token" style="color:hsl(207, 82%, 66%)">format</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">[</span><span>None</span><span class="token" style="color:hsl(220, 14%, 71%)">]</span><span>: json</span></code></pre></div></pre>
<p>この操作により、指定した認証情報が<code class="bg-yellow-200 font-mono px-[0.3rem] py-[0.1rem] rounded whitespace-nowrap text-inherit">~/.aws/credentials</code>ファイルに保存され、リージョン情報などが<code class="bg-yellow-200 font-mono px-[0.3rem] py-[0.1rem] rounded whitespace-nowrap text-inherit">~/.aws/config</code>ファイルに記録されます。</p>
<h3>プロファイル確認</h3>
<p>設定内容は以下のようにファイルを直接確認できます。</p>
<pre><div class="relative my-4"><button class="absolute top-2 right-2 text-xs bg-gray-700 text-white px-2 py-1 rounded hover:bg-gray-600">Copy</button><pre style="background:transparent;color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre-wrap;word-spacing:normal;word-break:break-word;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:0.75rem;margin:0;overflow:auto;border-radius:0.5rem;overflow-x:auto"><code class="language-bash" style="white-space:pre;background:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>$ </span><span class="token" style="color:hsl(207, 82%, 66%)">cat</span><span> ~/.aws/credentials
</span><span></span><span class="token" style="color:hsl(220, 14%, 71%)">[</span><span>default</span><span class="token" style="color:hsl(220, 14%, 71%)">]</span><span>
</span><span>aws_access_key_id </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> xxxxxxxxxx
</span><span>aws_secret_access_key </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> xxxxxxxxxx</span></code></pre></div></pre>
<pre><div class="relative my-4"><button class="absolute top-2 right-2 text-xs bg-gray-700 text-white px-2 py-1 rounded hover:bg-gray-600">Copy</button><pre style="background:transparent;color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre-wrap;word-spacing:normal;word-break:break-word;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:0.75rem;margin:0;overflow:auto;border-radius:0.5rem;overflow-x:auto"><code class="language-bash" style="white-space:pre;background:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>$ </span><span class="token" style="color:hsl(207, 82%, 66%)">cat</span><span> ~/.aws/config
</span><span></span><span class="token" style="color:hsl(220, 14%, 71%)">[</span><span>default</span><span class="token" style="color:hsl(220, 14%, 71%)">]</span><span>
</span><span>region </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> ap-northeast-1
</span><span>output </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> json</span></code></pre></div></pre>
<hr/>
<h1>2. 複数プロファイルの設定</h1>
<p>複数のAWSアカウントやプロジェクトにアクセスするためには、異なるプロファイルを設定する必要があります。これを実現するためには、<code class="bg-yellow-200 font-mono px-[0.3rem] py-[0.1rem] rounded whitespace-nowrap text-inherit">--profile</code>オプションを使用します。</p>
<h3>プロファイル設定の例</h3>
<pre><div class="relative my-4"><button class="absolute top-2 right-2 text-xs bg-gray-700 text-white px-2 py-1 rounded hover:bg-gray-600">Copy</button><pre style="background:transparent;color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre-wrap;word-spacing:normal;word-break:break-word;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:0.75rem;margin:0;overflow:auto;border-radius:0.5rem;overflow-x:auto"><code class="language-bash" style="white-space:pre;background:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>$ aws configure --profile profile_name1
</span><span>AWS Access Key ID </span><span class="token" style="color:hsl(220, 14%, 71%)">[</span><span>None</span><span class="token" style="color:hsl(220, 14%, 71%)">]</span><span>: xxxxxxxxxx
</span><span>AWS Secret Access Key </span><span class="token" style="color:hsl(220, 14%, 71%)">[</span><span>None</span><span class="token" style="color:hsl(220, 14%, 71%)">]</span><span>: xxxxxxxxxx
</span><span>Default region name </span><span class="token" style="color:hsl(220, 14%, 71%)">[</span><span>None</span><span class="token" style="color:hsl(220, 14%, 71%)">]</span><span>: ap-northeast-1
</span><span>Default output </span><span class="token" style="color:hsl(207, 82%, 66%)">format</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">[</span><span>None</span><span class="token" style="color:hsl(220, 14%, 71%)">]</span><span>: json</span></code></pre></div></pre>
<p>上記のコマンドでは、<code class="bg-yellow-200 font-mono px-[0.3rem] py-[0.1rem] rounded whitespace-nowrap text-inherit">profile_name1</code>という名前のプロファイルが設定されます。さらに別のプロファイルを追加したい場合は、同様に以下のコマンドを実行します。</p>
<pre><div class="relative my-4"><button class="absolute top-2 right-2 text-xs bg-gray-700 text-white px-2 py-1 rounded hover:bg-gray-600">Copy</button><pre style="background:transparent;color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre-wrap;word-spacing:normal;word-break:break-word;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:0.75rem;margin:0;overflow:auto;border-radius:0.5rem;overflow-x:auto"><code class="language-bash" style="white-space:pre;background:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>$ aws configure --profile profile_name2
</span><span>AWS Access Key ID </span><span class="token" style="color:hsl(220, 14%, 71%)">[</span><span>None</span><span class="token" style="color:hsl(220, 14%, 71%)">]</span><span>: xxxxxxxxxx
</span><span>AWS Secret Access Key </span><span class="token" style="color:hsl(220, 14%, 71%)">[</span><span>None</span><span class="token" style="color:hsl(220, 14%, 71%)">]</span><span>: xxxxxxxxxx
</span><span>Default region name </span><span class="token" style="color:hsl(220, 14%, 71%)">[</span><span>None</span><span class="token" style="color:hsl(220, 14%, 71%)">]</span><span>: ap-northeast-1
</span><span>Default output </span><span class="token" style="color:hsl(207, 82%, 66%)">format</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">[</span><span>None</span><span class="token" style="color:hsl(220, 14%, 71%)">]</span><span>: json</span></code></pre></div></pre>
<p>これにより、複数のプロファイルが<code class="bg-yellow-200 font-mono px-[0.3rem] py-[0.1rem] rounded whitespace-nowrap text-inherit">~/.aws/credentials</code>ファイルに追加されます。</p>
<hr/>
<h1>3. 複数プロファイルの使い分け方法</h1>
<p>AWS CLIで複数のプロファイルを設定した後、以下の2つの方法で使い分けることが可能です。</p>
<h2>方法1: コマンドに <code class="bg-yellow-200 font-mono px-[0.3rem] py-[0.1rem] rounded whitespace-nowrap text-inherit">-profile</code> オプションを付ける</h2>
<p>各コマンドに対して、使用したいプロファイルを<code class="bg-yellow-200 font-mono px-[0.3rem] py-[0.1rem] rounded whitespace-nowrap text-inherit">--profile</code>オプションで指定します。これにより、設定した特定のプロファイルを使用してコマンドを実行できます。</p>
<pre><div class="relative my-4"><button class="absolute top-2 right-2 text-xs bg-gray-700 text-white px-2 py-1 rounded hover:bg-gray-600">Copy</button><pre style="background:transparent;color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre-wrap;word-spacing:normal;word-break:break-word;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:0.75rem;margin:0;overflow:auto;border-radius:0.5rem;overflow-x:auto"><code class="language-bash" style="white-space:pre;background:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>$ aws s3 </span><span class="token" style="color:hsl(207, 82%, 66%)">ls</span><span> --profile profile_name1</span></code></pre></div></pre>
<p>この方法は、単一のコマンド実行時に特定のプロファイルを明示的に指定する場合に便利です。</p>
<h2>方法2: 環境変数を使用してプロファイルを切り替える</h2>
<p>もし、コマンドごとに<code class="bg-yellow-200 font-mono px-[0.3rem] py-[0.1rem] rounded whitespace-nowrap text-inherit">--profile</code>オプションを指定するのが手間だと感じる場合、環境変数<code class="bg-yellow-200 font-mono px-[0.3rem] py-[0.1rem] rounded whitespace-nowrap text-inherit">AWS_PROFILE</code>を設定することで、デフォルトプロファイルを一時的に変更できます。</p>
<pre><div class="relative my-4"><button class="absolute top-2 right-2 text-xs bg-gray-700 text-white px-2 py-1 rounded hover:bg-gray-600">Copy</button><pre style="background:transparent;color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre-wrap;word-spacing:normal;word-break:break-word;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:0.75rem;margin:0;overflow:auto;border-radius:0.5rem;overflow-x:auto"><code class="language-bash" style="white-space:pre;background:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>$ </span><span class="token" style="color:hsl(29, 54%, 61%)">export</span><span> </span><span class="token assign-left" style="color:hsl(207, 82%, 66%)">AWS_PROFILE</span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span>profile_name2
</span><span>$ aws s3 </span><span class="token" style="color:hsl(207, 82%, 66%)">ls</span></code></pre></div></pre>
<p>環境変数を設定しておけば、同じシェルセッション内ではすべてのAWS CLIコマンドがそのプロファイルを使用するため、毎回<code class="bg-yellow-200 font-mono px-[0.3rem] py-[0.1rem] rounded whitespace-nowrap text-inherit">--profile</code>オプションを指定する必要がなくなります。</p>
<hr/>
<h1>まとめ</h1>
<p>AWS CLIを使って複数のプロファイルを使い分けることで、異なるプロジェクトや環境に簡単にアクセスできます。<code class="bg-yellow-200 font-mono px-[0.3rem] py-[0.1rem] rounded whitespace-nowrap text-inherit">--profile</code>オプションを使う方法と、環境変数を利用してプロファイルを切り替える方法は、それぞれの用途に応じて使い分けましょう。</p>
<p>AWSを効果的に使いこなすためには、こうしたプロファイル管理のスキルが非常に重要です。日々の業務で複数のAWS環境を操作することが多い方は、ぜひ試してみてください！</p>
<hr/><div class="text-center mt-8"><a class="inline-block bg-gray-800 text-white no-underline px-4 py-2 rounded hover:bg-gray-700" href="/">← 記事一覧に戻る</a></div><div class="my-12 text-center"><p class="font-bold text-gray-800">合同会社raisexでは一緒に働く仲間を募集中です。</p><p class="text-sm text-gray-600 mb-4">ご興味のある方は以下の採用情報をご確認ください。</p><div class="flex justify-center"><div class="engage-recruit-widget" data-height="300" data-width="500" data-url="https://en-gage.net/raisex_jobs/widget/?banner=1"></div></div></div></article></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"article":{"id":191,"documentId":"xu5pb2ete2c6srmb0yfp3t6n","title":"AWSプロファイル切り替え","content":"AWS CLIを使用する際、複数のアカウントや環境を使い分けたい場合があります。例えば、開発環境や本番環境、もしくは異なるプロジェクトにおけるアクセスキーを使い分けたい時です。この記事では、AWS CLIでプロファイルを切り替える方法について、基本的な設定から具体的に使い分ける方法までを紹介します。\n\n---\n\n# 1. ローカルのAWSプロファイル設定\n\nまず、AWS CLIをインストールした後、初めて使用する際には`aws configure`コマンドでAWSの認証情報を設定します。このコマンドで設定されるプロファイルは、デフォルトで「`default`」という名前で保存されます。\n\n### コマンド例\n\n```bash\n$ aws configure\nAWS Access Key ID [None]: xxxxxxxxxx\nAWS Secret Access Key [None]: xxxxxxxxxx\nDefault region name [None]: ap-northeast-1\nDefault output format [None]: json\n```\n\nこの操作により、指定した認証情報が`~/.aws/credentials`ファイルに保存され、リージョン情報などが`~/.aws/config`ファイルに記録されます。\n\n### プロファイル確認\n\n設定内容は以下のようにファイルを直接確認できます。\n\n```bash\n$ cat ~/.aws/credentials\n[default]\naws_access_key_id = xxxxxxxxxx\naws_secret_access_key = xxxxxxxxxx\n```\n\n```bash\n$ cat ~/.aws/config\n[default]\nregion = ap-northeast-1\noutput = json\n```\n\n---\n\n# 2. 複数プロファイルの設定\n\n複数のAWSアカウントやプロジェクトにアクセスするためには、異なるプロファイルを設定する必要があります。これを実現するためには、`--profile`オプションを使用します。\n\n### プロファイル設定の例\n\n```bash\n$ aws configure --profile profile_name1\nAWS Access Key ID [None]: xxxxxxxxxx\nAWS Secret Access Key [None]: xxxxxxxxxx\nDefault region name [None]: ap-northeast-1\nDefault output format [None]: json\n```\n\n上記のコマンドでは、`profile_name1`という名前のプロファイルが設定されます。さらに別のプロファイルを追加したい場合は、同様に以下のコマンドを実行します。\n\n```bash\n$ aws configure --profile profile_name2\nAWS Access Key ID [None]: xxxxxxxxxx\nAWS Secret Access Key [None]: xxxxxxxxxx\nDefault region name [None]: ap-northeast-1\nDefault output format [None]: json\n```\n\nこれにより、複数のプロファイルが`~/.aws/credentials`ファイルに追加されます。\n\n---\n\n# 3. 複数プロファイルの使い分け方法\n\nAWS CLIで複数のプロファイルを設定した後、以下の2つの方法で使い分けることが可能です。\n\n## 方法1: コマンドに `-profile` オプションを付ける\n\n各コマンドに対して、使用したいプロファイルを`--profile`オプションで指定します。これにより、設定した特定のプロファイルを使用してコマンドを実行できます。\n\n```bash\n$ aws s3 ls --profile profile_name1\n```\n\nこの方法は、単一のコマンド実行時に特定のプロファイルを明示的に指定する場合に便利です。\n\n## 方法2: 環境変数を使用してプロファイルを切り替える\n\nもし、コマンドごとに`--profile`オプションを指定するのが手間だと感じる場合、環境変数`AWS_PROFILE`を設定することで、デフォルトプロファイルを一時的に変更できます。\n\n```bash\n$ export AWS_PROFILE=profile_name2\n$ aws s3 ls\n```\n\n環境変数を設定しておけば、同じシェルセッション内ではすべてのAWS CLIコマンドがそのプロファイルを使用するため、毎回`--profile`オプションを指定する必要がなくなります。\n\n---\n\n# まとめ\n\nAWS CLIを使って複数のプロファイルを使い分けることで、異なるプロジェクトや環境に簡単にアクセスできます。`--profile`オプションを使う方法と、環境変数を利用してプロファイルを切り替える方法は、それぞれの用途に応じて使い分けましょう。\n\nAWSを効果的に使いこなすためには、こうしたプロファイル管理のスキルが非常に重要です。日々の業務で複数のAWS環境を操作することが多い方は、ぜひ試してみてください！\n\n---\n\n","createdAt":"2025-05-19T08:50:57.104Z","updatedAt":"2025-06-01T08:23:55.260Z","publishedAt":"2025-06-01T08:23:55.274Z","docId":"qs7vzp8rkbzni7kjzlhgdpxa","tags":[{"id":10,"documentId":"cxt2tbnsy05cazm17p3pp1a3","createdAt":"2025-05-19T09:46:58.860Z","updatedAt":"2025-05-19T09:46:58.860Z","publishedAt":"2025-05-19T09:46:58.868Z","name":"AWS"},{"id":28,"documentId":"g250gp73dhyj31yn9639otwk","createdAt":"2025-05-19T09:50:38.186Z","updatedAt":"2025-05-19T09:50:38.186Z","publishedAt":"2025-05-19T09:50:38.193Z","name":"クラウド"}],"thumbnail":[{"id":7,"documentId":"wdpj294xz6ee0w6rmyik5b3m","name":"20250513-03.png","alternativeText":null,"caption":null,"width":1503,"height":844,"formats":{"thumbnail":{"name":"thumbnail_20250513-03.png","hash":"thumbnail_20250513_03_0767e419b3","ext":".png","mime":"image/png","path":null,"width":245,"height":138,"size":9.05,"sizeInBytes":9050,"url":"https://stg-raisex-tech-blog.s3.ap-northeast-1.amazonaws.com/thumbnail_20250513_03_0767e419b3.png"},"medium":{"name":"medium_20250513-03.png","hash":"medium_20250513_03_0767e419b3","ext":".png","mime":"image/png","path":null,"width":750,"height":421,"size":34.72,"sizeInBytes":34721,"url":"https://stg-raisex-tech-blog.s3.ap-northeast-1.amazonaws.com/medium_20250513_03_0767e419b3.png"},"large":{"name":"large_20250513-03.png","hash":"large_20250513_03_0767e419b3","ext":".png","mime":"image/png","path":null,"width":1000,"height":562,"size":49.29,"sizeInBytes":49287,"url":"https://stg-raisex-tech-blog.s3.ap-northeast-1.amazonaws.com/large_20250513_03_0767e419b3.png"},"small":{"name":"small_20250513-03.png","hash":"small_20250513_03_0767e419b3","ext":".png","mime":"image/png","path":null,"width":500,"height":281,"size":21.04,"sizeInBytes":21038,"url":"https://stg-raisex-tech-blog.s3.ap-northeast-1.amazonaws.com/small_20250513_03_0767e419b3.png"}},"hash":"20250513_03_0767e419b3","ext":".png","mime":"image/png","size":15.33,"url":"https://stg-raisex-tech-blog.s3.ap-northeast-1.amazonaws.com/20250513_03_0767e419b3.png","previewUrl":null,"provider":"@strapi/provider-upload-aws-s3","provider_metadata":null,"createdAt":"2025-05-20T07:41:18.247Z","updatedAt":"2025-05-20T07:41:18.247Z","publishedAt":"2025-05-20T07:41:18.247Z"}]}},"__N_SSG":true},"page":"/articles/[id]","query":{"id":"xu5pb2ete2c6srmb0yfp3t6n"},"buildId":"QTcQf_D8J2NMGF1e92-0w","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>