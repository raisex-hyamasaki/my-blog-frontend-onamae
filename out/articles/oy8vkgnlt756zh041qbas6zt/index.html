<!DOCTYPE html><html><head><meta charSet="utf-8"/><link rel="icon" href="/favicon.ico"/><meta name="viewport" content="width=device-width, initial-scale=1"/><meta name="description" content="æœ€æ–°ã®æŠ€è¡“ãƒˆãƒ¬ãƒ³ãƒ‰ã€ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã€ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢é–‹ç™ºã€ãƒ„ãƒ¼ãƒ«ã®ãƒ¬ãƒ“ãƒ¥ãƒ¼ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç®¡ç†ç­‰ã«ã¤ã„ã¦ã®è€ƒå¯Ÿã‚’ãŠå±Šã‘"/><meta property="og:url" content="https://blog.raisex.jp/articles/oy8vkgnlt756zh041qbas6zt"/><meta property="og:title" content="ãƒ¬ã‚¤ã‚ºã‚¯ãƒ­ã‚¹TechBlog | ã•ã„ãŸã¾å¸‚å¤§å®®åŒºã‚·ã‚¹ãƒ†ãƒ ä¼šç¤¾raisexé‹å–¶"/><meta property="og:description" content="æœ€æ–°ã®æŠ€è¡“ãƒˆãƒ¬ãƒ³ãƒ‰ã€ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã€ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢é–‹ç™ºã€ãƒ„ãƒ¼ãƒ«ã®ãƒ¬ãƒ“ãƒ¥ãƒ¼ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç®¡ç†ç­‰ã«ã¤ã„ã¦ã®è€ƒå¯Ÿã‚’ãŠå±Šã‘"/><meta property="og:image" content="https://blog.raisex.jphttps://stg-raisex-tech-blog.s3.ap-northeast-1.amazonaws.com/medium_20250513_20_67274fed95.png"/><meta property="og:type" content="article"/><meta name="twitter:card" content="summary_large_image"/><title>ãƒ†ã‚­ã‚¹ãƒˆã®ãƒˆãƒ¼ã‚¯ãƒ³æ•°ã‚’ç¢ºèªã™ã‚‹æ–¹æ³•ï¼šLLMãƒãƒ¥ãƒ¼ãƒ‹ãƒ³ã‚°ã®åŸºç¤çŸ¥è­˜<!-- --> | ãƒ¬ã‚¤ã‚ºã‚¯ãƒ­ã‚¹ Tech Blog</title><meta name="next-head-count" content="11"/><link rel="preload" href="/_next/static/css/7d757bdfdfb985a7.css" as="style"/><link rel="stylesheet" href="/_next/static/css/7d757bdfdfb985a7.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-42372ed130431b0a.js"></script><script src="/_next/static/chunks/webpack-2c547fd4592db0a6.js" defer=""></script><script src="/_next/static/chunks/framework-e952fed463eb8e34.js" defer=""></script><script src="/_next/static/chunks/main-72cf801a60c05482.js" defer=""></script><script src="/_next/static/chunks/pages/_app-b6737859a806843a.js" defer=""></script><script src="/_next/static/chunks/a2bf56a3-f921f321ae1e0e8d.js" defer=""></script><script src="/_next/static/chunks/61-43a5fb199f2ef164.js" defer=""></script><script src="/_next/static/chunks/257-c12ad0b16790f4c5.js" defer=""></script><script src="/_next/static/chunks/pages/articles/%5Bid%5D-29223262aecac2b3.js" defer=""></script><script src="/_next/static/_saeqYYuk801MD-5UWwzK/_buildManifest.js" defer=""></script><script src="/_next/static/_saeqYYuk801MD-5UWwzK/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="max-w-[1024px] mx-auto px-4"><header class="sticky top-0 z-20 bg-white border-b border-gray-200 h-12 flex items-center justify-between px-4"><a class="text-blue-600 no-underline hover:text-gray-600 text-lg font-bold" href="/">ğŸ“‹ ãƒ¬ã‚¤ã‚ºã‚¯ãƒ­ã‚¹ Tech Blog</a><div class="flex gap-3"><a href="https://twitter.com/share" target="_blank" rel="noopener noreferrer"><img src="/icons/x.svg" alt="Share on X" class="h-7 w-7"/></a><a href="https://www.facebook.com/sharer/sharer.php" target="_blank" rel="noopener noreferrer"><img src="/icons/facebook.svg" alt="Share on Facebook" class="h-7 w-7"/></a><a href="https://social-plugins.line.me/lineit/share" target="_blank" rel="noopener noreferrer"><img src="/icons/line.svg" alt="Share on LINE" class="h-7 w-7"/></a></div></header><article class="prose prose-slate max-w-none pt-6"><h1 class="text-3xl font-bold border-b pb-2">ãƒ†ã‚­ã‚¹ãƒˆã®ãƒˆãƒ¼ã‚¯ãƒ³æ•°ã‚’ç¢ºèªã™ã‚‹æ–¹æ³•ï¼šLLMãƒãƒ¥ãƒ¼ãƒ‹ãƒ³ã‚°ã®åŸºç¤çŸ¥è­˜</h1><div class="text-sm text-gray-500 mb-4">æŠ•ç¨¿æ›´æ–°æ—¥: <!-- -->2025/6/6 9:00:57</div><div class="flex flex-wrap gap-2 mb-4"><span class="bg-blue-100 text-blue-800 text-xs font-semibold px-2 py-1 rounded-full">#<!-- -->LLM</span><span class="bg-blue-100 text-blue-800 text-xs font-semibold px-2 py-1 rounded-full">#<!-- -->Python</span></div><div class="w-full flex justify-center mb-6"><img src="https://stg-raisex-tech-blog.s3.ap-northeast-1.amazonaws.com/medium_20250513_20_67274fed95.png" alt="ã‚µãƒ ãƒã‚¤ãƒ«" class="w-full max-w-[800px] h-auto rounded"/></div><p>LLMï¼ˆå¤§è¦æ¨¡è¨€èªãƒ¢ãƒ‡ãƒ«ï¼‰ã®ãƒãƒ¥ãƒ¼ãƒ‹ãƒ³ã‚°ã§ã¯ã€ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ãƒ‡ãƒ¼ã‚¿ã®å“è³ªã ã‘ã§ãªãã€ãƒˆãƒ¼ã‚¯ãƒ³æ•°ãŒé‡è¦ãªå½¹å‰²ã‚’æœãŸã—ã¾ã™ã€‚ãƒˆãƒ¼ã‚¯ãƒ³æ•°ã‚’æŠŠæ¡ã™ã‚‹äº‹ã§ã€ãƒ‡ãƒ¼ã‚¿ã®é©åˆ‡ãªé‡ã‚’åˆ¤æ–­ã—ã€éå­¦ç¿’ã‚’é˜²ãã“ã¨ãŒå¯èƒ½ã«ãªã‚Šã¾ã™ã€‚ã“ã®è¨˜äº‹ã§ã¯ã€ãƒˆãƒ¼ã‚¯ãƒ³æ•°ã‚’ç¢ºèªã™ã‚‹ãŸã‚ã®ä¸»è¦ãªãƒ„ãƒ¼ãƒ«ã¨ãã®ä½¿ã„æ–¹ã‚’è§£èª¬ã—ã¾ã™ã€‚</p>
<hr/>
<h1>ãƒˆãƒ¼ã‚¯ãƒ³æ•°ã‚’ç¢ºèªã™ã‚‹ç†ç”±</h1>
<p>ãƒˆãƒ¼ã‚¯ãƒ³ã¨ã¯ã€ãƒ†ã‚­ã‚¹ãƒˆã‚’å°ã•ãªå˜ä½ã«åˆ†å‰²ã—ãŸã‚‚ã®ã§ã™ã€‚ãŸã¨ãˆã°ã€å˜èªã‚„å¥èª­ç‚¹ã€è¨˜å·ãªã©ãŒè©²å½“ã—ã¾ã™ã€‚LLMã®ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ã§ã¯ã€ä»¥ä¸‹ã®ã‚ˆã†ãªç†ç”±ã§ãƒˆãƒ¼ã‚¯ãƒ³æ•°ã‚’çŸ¥ã‚‹ã“ã¨ãŒé‡è¦ã§ã™ã€‚</p>
<ol>
<li><strong>é©åˆ‡ãªãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°é‡ã®åˆ¤æ–­</strong>ï¼šãƒˆãƒ¼ã‚¯ãƒ³æ•°ãŒå°‘ãªã„ã¨ãƒ¢ãƒ‡ãƒ«ãŒååˆ†ãªå­¦ç¿’ã‚’è¡Œãˆãšã€æ€§èƒ½ãŒä½ä¸‹ã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚ä¸€æ–¹ã€ãƒ‡ãƒ¼ã‚¿ãŒå¤šã™ãã‚‹ã¨è¨ˆç®—è³‡æºã‚’ç„¡é§„ã«æ¶ˆè²»ã—ã¾ã™ã€‚</li>
<li><strong>ãƒ¢ãƒ‡ãƒ«ã®ç‰¹æ€§ã«åˆã‚ã›ãŸãƒãƒ¥ãƒ¼ãƒ‹ãƒ³ã‚°</strong>ï¼šãƒ¢ãƒ‡ãƒ«ã”ã¨ã«æœ€é©ãªãƒˆãƒ¼ã‚¯ãƒ³æ•°ãŒç•°ãªã‚‹ãŸã‚ã€ãƒˆãƒ¼ã‚¯ãƒ³åŒ–ã«å¯¾å¿œã—ãŸãƒ„ãƒ¼ãƒ«ã‚’ä½¿ã†ã“ã¨ã§åŠ¹ç‡çš„ãªå­¦ç¿’ã‚’å®Ÿç¾ã§ãã¾ã™ã€‚</li>
</ol>
<hr/>
<h1>ãƒˆãƒ¼ã‚¯ãƒ³æ•°ã‚’ç¢ºèªã™ã‚‹æ‰‹è»½ãªæ–¹æ³•</h1>
<p>ä»¥ä¸‹ã§ã¯ã€ãƒˆãƒ¼ã‚¯ãƒ³æ•°ã‚’ç¢ºèªã™ã‚‹ãŸã‚ã®ä¸»è¦ãªæ–¹æ³•ã‚’ç´¹ä»‹ã—ã¾ã™ã€‚ãã‚Œãã‚Œã®ãƒ„ãƒ¼ãƒ«ã¯ç‰¹å®šã®ç”¨é€”ã‚„ãƒ¢ãƒ‡ãƒ«ã«é©ã—ã¦ã„ã‚‹ãŸã‚ã€ç›®çš„ã«å¿œã˜ã¦ä½¿ã„åˆ†ã‘ã‚‹ã¨è‰¯ã„ã§ã—ã‚‡ã†ã€‚</p>
<h2>1. <strong>tiktoken</strong></h2>
<h3>ç‰¹å¾´</h3>
<p><code class="bg-yellow-200 font-mono px-[0.3rem] py-[0.1rem] rounded whitespace-nowrap text-inherit">tiktoken</code>ã¯OpenAIãŒæä¾›ã™ã‚‹ãƒˆãƒ¼ã‚¯ãƒŠã‚¤ã‚¶ãƒ¼ã§ã€GPTã‚·ãƒªãƒ¼ã‚ºå‘ã‘ã«è¨­è¨ˆã•ã‚Œã¦ã„ã¾ã™ã€‚ãƒ¢ãƒ‡ãƒ«ã®ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¨­å®šã‚’å¤‰æ›´ã™ã‚‹ã“ã¨ã§ã€ç•°ãªã‚‹ãƒ¢ãƒ‡ãƒ«ã«å¯¾å¿œå¯èƒ½ã§ã™ã€‚</p>
<h3>ä½¿ç”¨æ–¹æ³•</h3>
<p><strong>ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</strong></p>
<pre><div class="relative my-4"><button class="absolute top-2 right-2 text-xs bg-gray-700 text-white px-2 py-1 rounded hover:bg-gray-600">Copy</button><pre style="background:transparent;color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre-wrap;word-spacing:normal;word-break:break-word;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:0.75rem;margin:0;overflow:auto;border-radius:0.5rem;overflow-x:auto"><code class="language-bash" style="white-space:pre;background:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>pip </span><span class="token" style="color:hsl(207, 82%, 66%)">install</span><span> tiktoken</span></code></pre></div></pre>
<p><strong>ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰</strong></p>
<pre><div class="relative my-4"><button class="absolute top-2 right-2 text-xs bg-gray-700 text-white px-2 py-1 rounded hover:bg-gray-600">Copy</button><pre style="background:transparent;color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre-wrap;word-spacing:normal;word-break:break-word;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:0.75rem;margin:0;overflow:auto;border-radius:0.5rem;overflow-x:auto"><code class="language-python" style="white-space:pre;background:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:hsl(286, 60%, 67%)">import</span><span> tiktoken
</span>
<span></span><span class="token" style="color:hsl(286, 60%, 67%)">def</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">count_tokens</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>text</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">:</span><span>
</span><span>    tokenizer </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> tiktoken</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span>get_encoding</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(95, 38%, 62%)">&quot;o200k_base&quot;</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token" style="color:hsl(220, 10%, 40%);font-style:italic"># gpt-4oãƒ¢ãƒ‡ãƒ«å‘ã‘</span><span>
</span><span>    tokens </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> tokenizer</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span>encode</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>text</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span>
</span><span>    </span><span class="token" style="color:hsl(286, 60%, 67%)">return</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">len</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>tokens</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span>
</span>
<span></span><span class="token" style="color:hsl(220, 10%, 40%);font-style:italic"># ãƒ†ã‚­ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã¿ãƒˆãƒ¼ã‚¯ãƒ³æ•°ã‚’ç¢ºèª</span><span>
</span><span>input_file_path </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">&#x27;./text.txt&#x27;</span><span>
</span><span></span><span class="token" style="color:hsl(286, 60%, 67%)">with</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">open</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>input_file_path</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">&#x27;r&#x27;</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span> encoding</span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span class="token" style="color:hsl(95, 38%, 62%)">&#x27;utf-8&#x27;</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token" style="color:hsl(286, 60%, 67%)">as</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">file</span><span class="token" style="color:hsl(220, 14%, 71%)">:</span><span>
</span><span>    raw_text </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">file</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span>read</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span>
</span>
<span>token_len </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> count_tokens</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>raw_text</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span>
</span><span></span><span class="token" style="color:hsl(286, 60%, 67%)">print</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>token_len</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span></code></pre></div></pre>
<p><strong>çµæœä¾‹</strong></p>
<ul>
<li><code class="bg-yellow-200 font-mono px-[0.3rem] py-[0.1rem] rounded whitespace-nowrap text-inherit">o200k_base</code>ã§ã¯1143ãƒˆãƒ¼ã‚¯ãƒ³</li>
<li><code class="bg-yellow-200 font-mono px-[0.3rem] py-[0.1rem] rounded whitespace-nowrap text-inherit">cl100k_base</code>ã«å¤‰æ›´ã™ã‚‹ã¨1420ãƒˆãƒ¼ã‚¯ãƒ³</li>
</ul>
<hr/>
<h2>2. <strong>Transformers</strong></h2>
<h3>ç‰¹å¾´</h3>
<p>Hugging Faceã®<code class="bg-yellow-200 font-mono px-[0.3rem] py-[0.1rem] rounded whitespace-nowrap text-inherit">transformers</code>ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¯ã€å¤šãã®ãƒ¢ãƒ‡ãƒ«ã«å¯¾å¿œã—ãŸãƒˆãƒ¼ã‚¯ãƒŠã‚¤ã‚¶ãƒ¼ã‚’æä¾›ã—ã¦ã„ã¾ã™ã€‚æ—¥æœ¬èªãƒ¢ãƒ‡ãƒ«ã«ã‚‚å¯¾å¿œã—ã¦ã„ã‚‹ãŸã‚ã€å¤šè¨€èªãƒ†ã‚­ã‚¹ãƒˆã®è§£æã«ä¾¿åˆ©ã§ã™ã€‚</p>
<h3>ä½¿ç”¨æ–¹æ³•</h3>
<p><strong>ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</strong></p>
<pre><div class="relative my-4"><button class="absolute top-2 right-2 text-xs bg-gray-700 text-white px-2 py-1 rounded hover:bg-gray-600">Copy</button><pre style="background:transparent;color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre-wrap;word-spacing:normal;word-break:break-word;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:0.75rem;margin:0;overflow:auto;border-radius:0.5rem;overflow-x:auto"><code class="language-bash" style="white-space:pre;background:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>pip </span><span class="token" style="color:hsl(207, 82%, 66%)">install</span><span> transformers</span></code></pre></div></pre>
<p><strong>ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰</strong></p>
<pre><div class="relative my-4"><button class="absolute top-2 right-2 text-xs bg-gray-700 text-white px-2 py-1 rounded hover:bg-gray-600">Copy</button><pre style="background:transparent;color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre-wrap;word-spacing:normal;word-break:break-word;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:0.75rem;margin:0;overflow:auto;border-radius:0.5rem;overflow-x:auto"><code class="language-python" style="white-space:pre;background:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:hsl(286, 60%, 67%)">from</span><span> transformers </span><span class="token" style="color:hsl(286, 60%, 67%)">import</span><span> AutoTokenizer
</span>
<span></span><span class="token" style="color:hsl(286, 60%, 67%)">def</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">count_tokens</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>text</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">:</span><span>
</span><span>    tokenizer </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> AutoTokenizer</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span>from_pretrained</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(95, 38%, 62%)">&quot;llm-jp/llm-jp-3-3.7b-instruct&quot;</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span>
</span><span>    tokens </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> tokenizer</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span>encode</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>text</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span>
</span><span>    </span><span class="token" style="color:hsl(286, 60%, 67%)">return</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">len</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>tokens</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span>
</span>
<span></span><span class="token" style="color:hsl(220, 10%, 40%);font-style:italic"># ãƒ†ã‚­ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã¿ãƒˆãƒ¼ã‚¯ãƒ³æ•°ã‚’ç¢ºèª</span><span>
</span><span>input_file_path </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">&#x27;./text.txt&#x27;</span><span>
</span><span></span><span class="token" style="color:hsl(286, 60%, 67%)">with</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">open</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>input_file_path</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">&#x27;r&#x27;</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span> encoding</span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span class="token" style="color:hsl(95, 38%, 62%)">&#x27;utf-8&#x27;</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token" style="color:hsl(286, 60%, 67%)">as</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">file</span><span class="token" style="color:hsl(220, 14%, 71%)">:</span><span>
</span><span>    raw_text </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">file</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span>read</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span>
</span>
<span>token_len </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> count_tokens</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>raw_text</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span>
</span><span></span><span class="token" style="color:hsl(286, 60%, 67%)">print</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>token_len</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span>
</span></code></pre></div></pre>
<p><strong>çµæœä¾‹</strong></p>
<ul>
<li><code class="bg-yellow-200 font-mono px-[0.3rem] py-[0.1rem] rounded whitespace-nowrap text-inherit">llm-jp-3-3.7b-instruct</code>ãƒ¢ãƒ‡ãƒ«ã§ã¯991ãƒˆãƒ¼ã‚¯ãƒ³</li>
<li><code class="bg-yellow-200 font-mono px-[0.3rem] py-[0.1rem] rounded whitespace-nowrap text-inherit">elyza/ELYZA-japanese-Llama-2-7b-instruct</code>ã§ã¯1556ãƒˆãƒ¼ã‚¯ãƒ³</li>
</ul>
<hr/>
<h2>3. <strong>SpaCy</strong></h2>
<h3>ç‰¹å¾´</h3>
<p><code class="bg-yellow-200 font-mono px-[0.3rem] py-[0.1rem] rounded whitespace-nowrap text-inherit">spaCy</code>ã¯æ±ç”¨çš„ãªNLPãƒ„ãƒ¼ãƒ«ã§ã€æ—¥æœ¬èªã‚’å«ã‚€å¤šè¨€èªã®ãƒˆãƒ¼ã‚¯ãƒ³åŒ–ãŒå¯èƒ½ã§ã™ã€‚LLMå°‚ç”¨ã§ã¯ãªã„ãŸã‚ã€ç°¡æ˜“çš„ãªç¢ºèªã«é©ã—ã¦ã„ã¾ã™ã€‚</p>
<h3>ä½¿ç”¨æ–¹æ³•</h3>
<p><strong>ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</strong></p>
<pre><div class="relative my-4"><button class="absolute top-2 right-2 text-xs bg-gray-700 text-white px-2 py-1 rounded hover:bg-gray-600">Copy</button><pre style="background:transparent;color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre-wrap;word-spacing:normal;word-break:break-word;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:0.75rem;margin:0;overflow:auto;border-radius:0.5rem;overflow-x:auto"><code class="language-bash" style="white-space:pre;background:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>pip </span><span class="token" style="color:hsl(207, 82%, 66%)">install</span><span> spacy
</span>python -m spacy download ja_core_news_sm</code></pre></div></pre>
<p><strong>ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰</strong></p>
<pre><div class="relative my-4"><button class="absolute top-2 right-2 text-xs bg-gray-700 text-white px-2 py-1 rounded hover:bg-gray-600">Copy</button><pre style="background:transparent;color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre-wrap;word-spacing:normal;word-break:break-word;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:0.75rem;margin:0;overflow:auto;border-radius:0.5rem;overflow-x:auto"><code class="language-python" style="white-space:pre;background:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:hsl(286, 60%, 67%)">import</span><span> spacy
</span>
<span></span><span class="token" style="color:hsl(286, 60%, 67%)">def</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">count_tokens</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>text</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">:</span><span>
</span><span>    nlp </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> spacy</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span>load</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(95, 38%, 62%)">&quot;ja_core_news_sm&quot;</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span>
</span><span>    doc </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> nlp</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>text</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span>
</span><span>    tokens </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">[</span><span>token</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span>text </span><span class="token" style="color:hsl(286, 60%, 67%)">for</span><span> token </span><span class="token" style="color:hsl(286, 60%, 67%)">in</span><span> doc</span><span class="token" style="color:hsl(220, 14%, 71%)">]</span><span>
</span><span>    </span><span class="token" style="color:hsl(286, 60%, 67%)">return</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">len</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>tokens</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span>
</span>
<span></span><span class="token" style="color:hsl(220, 10%, 40%);font-style:italic"># ãƒ†ã‚­ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã¿ãƒˆãƒ¼ã‚¯ãƒ³æ•°ã‚’ç¢ºèª</span><span>
</span><span>input_file_path </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">&#x27;./text.txt&#x27;</span><span>
</span><span></span><span class="token" style="color:hsl(286, 60%, 67%)">with</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">open</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>input_file_path</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">&#x27;r&#x27;</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span> encoding</span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span class="token" style="color:hsl(95, 38%, 62%)">&#x27;utf-8&#x27;</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token" style="color:hsl(286, 60%, 67%)">as</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">file</span><span class="token" style="color:hsl(220, 14%, 71%)">:</span><span>
</span><span>    raw_text </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">file</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span>read</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span>
</span>
<span>token_len </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> count_tokens</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>raw_text</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span>
</span><span></span><span class="token" style="color:hsl(286, 60%, 67%)">print</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>token_len</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span>
</span></code></pre></div></pre>
<p><strong>çµæœä¾‹</strong></p>
<ul>
<li>ãƒˆãƒ¼ã‚¯ãƒ³æ•°ã¯1118</li>
</ul>
<hr/>
<h2>4. <strong>MeCab</strong></h2>
<h3>ç‰¹å¾´</h3>
<p><code class="bg-yellow-200 font-mono px-[0.3rem] py-[0.1rem] rounded whitespace-nowrap text-inherit">MeCab</code>ã¯æ—¥æœ¬èªå½¢æ…‹ç´ è§£æãƒ„ãƒ¼ãƒ«ã§ã€<code class="bg-yellow-200 font-mono px-[0.3rem] py-[0.1rem] rounded whitespace-nowrap text-inherit">fugashi</code>ã‚’é€šã˜ã¦Pythonã‹ã‚‰åˆ©ç”¨ã§ãã¾ã™ã€‚æ—¥æœ¬èªãƒ†ã‚­ã‚¹ãƒˆã®è§£æã«ç‰¹åŒ–ã—ã¦ãŠã‚Šã€è©³ç´°ãªãƒˆãƒ¼ã‚¯ãƒ³åŒ–ãŒå¯èƒ½ã§ã™ã€‚</p>
<h3>ä½¿ç”¨æ–¹æ³•</h3>
<p><strong>ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</strong></p>
<pre><div class="relative my-4"><button class="absolute top-2 right-2 text-xs bg-gray-700 text-white px-2 py-1 rounded hover:bg-gray-600">Copy</button><pre style="background:transparent;color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre-wrap;word-spacing:normal;word-break:break-word;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:0.75rem;margin:0;overflow:auto;border-radius:0.5rem;overflow-x:auto"><code class="language-bash" style="white-space:pre;background:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>pip </span><span class="token" style="color:hsl(207, 82%, 66%)">install</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">&#x27;fugashi[unidic]&#x27;</span><span>
</span>python -m unidic download</code></pre></div></pre>
<p><strong>ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰</strong></p>
<pre><div class="relative my-4"><button class="absolute top-2 right-2 text-xs bg-gray-700 text-white px-2 py-1 rounded hover:bg-gray-600">Copy</button><pre style="background:transparent;color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre-wrap;word-spacing:normal;word-break:break-word;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:0.75rem;margin:0;overflow:auto;border-radius:0.5rem;overflow-x:auto"><code class="language-python" style="white-space:pre;background:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:hsl(286, 60%, 67%)">import</span><span> fugashi
</span>
<span></span><span class="token" style="color:hsl(286, 60%, 67%)">def</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">count_tokens</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>text</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">:</span><span>
</span><span>    tagger </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> fugashi</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span>Tagger</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span>
</span><span>    tokens </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">[</span><span>word</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span>surface </span><span class="token" style="color:hsl(286, 60%, 67%)">for</span><span> word </span><span class="token" style="color:hsl(286, 60%, 67%)">in</span><span> tagger</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>text</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">]</span><span>
</span><span>    </span><span class="token" style="color:hsl(286, 60%, 67%)">return</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">len</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>tokens</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span>
</span>
<span></span><span class="token" style="color:hsl(220, 10%, 40%);font-style:italic"># ãƒ†ã‚­ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã¿ãƒˆãƒ¼ã‚¯ãƒ³æ•°ã‚’ç¢ºèª</span><span>
</span><span>input_file_path </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">&#x27;./text.txt&#x27;</span><span>
</span><span></span><span class="token" style="color:hsl(286, 60%, 67%)">with</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">open</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>input_file_path</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">&#x27;r&#x27;</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span> encoding</span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span class="token" style="color:hsl(95, 38%, 62%)">&#x27;utf-8&#x27;</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token" style="color:hsl(286, 60%, 67%)">as</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">file</span><span class="token" style="color:hsl(220, 14%, 71%)">:</span><span>
</span><span>    raw_text </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">file</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span>read</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span>
</span>
<span>token_len </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> count_tokens</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>raw_text</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span>
</span><span></span><span class="token" style="color:hsl(286, 60%, 67%)">print</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>token_len</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span>
</span></code></pre></div></pre>
<p><strong>çµæœä¾‹</strong></p>
<ul>
<li>ãƒˆãƒ¼ã‚¯ãƒ³æ•°ã¯1028</li>
</ul>
<hr/>
<h1>çµè«–ï¼šç›®çš„ã«å¿œã˜ãŸãƒ„ãƒ¼ãƒ«é¸ã³ã‚’</h1>
<p>ãƒˆãƒ¼ã‚¯ãƒ³æ•°ã‚’ç¢ºèªã™ã‚‹éš›ã®ãƒã‚¤ãƒ³ãƒˆã‚’ã¾ã¨ã‚ã‚‹ã¨ã€ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚</p>
<ul>
<li><strong>LLMç”¨ã®ãƒˆãƒ¼ã‚¯ãƒŠã‚¤ã‚¶ãƒ¼ãŒå¿…è¦</strong>ãªã‚‰<code class="bg-yellow-200 font-mono px-[0.3rem] py-[0.1rem] rounded whitespace-nowrap text-inherit">tiktoken</code>ã‚„<code class="bg-yellow-200 font-mono px-[0.3rem] py-[0.1rem] rounded whitespace-nowrap text-inherit">transformers</code>ã‚’ä½¿ç”¨</li>
<li><strong>æ±ç”¨çš„ãªè§£æ</strong>ãªã‚‰<code class="bg-yellow-200 font-mono px-[0.3rem] py-[0.1rem] rounded whitespace-nowrap text-inherit">spaCy</code>ã‚„<code class="bg-yellow-200 font-mono px-[0.3rem] py-[0.1rem] rounded whitespace-nowrap text-inherit">MeCab</code>ãŒä¾¿åˆ©</li>
</ul>
<p>ãƒˆãƒ¼ã‚¯ãƒ³æ•°ãŒã‚ã‹ã‚Œã°ã€ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ãƒ‡ãƒ¼ã‚¿ã‚’ã©ã®ç¨‹åº¦è¿½åŠ ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã‹ã‚„ã€ãƒ¢ãƒ‡ãƒ«ã®ç‰¹æ€§ã«åˆã£ãŸå­¦ç¿’ãŒå¯èƒ½ã«ãªã‚Šã¾ã™ã€‚</p>
<p>æ‰‹è»½ã«ãƒˆãƒ¼ã‚¯ãƒ³æ•°ã‚’ç¢ºèªã—ã€åŠ¹ç‡çš„ãªLLMé–‹ç™ºã‚’ç›®æŒ‡ã—ã¾ã—ã‚‡ã†ã€‚</p>
<hr/><div class="text-center mt-8"><a class="inline-block bg-gray-800 text-white no-underline px-4 py-2 rounded hover:bg-gray-700" href="/">â† è¨˜äº‹ä¸€è¦§ã«æˆ»ã‚‹</a></div><div class="my-12 text-center"><p class="font-bold text-gray-800">åˆåŒä¼šç¤¾raisexã§ã¯ä¸€ç·’ã«åƒãä»²é–“ã‚’å‹Ÿé›†ä¸­ã§ã™ã€‚</p><p class="text-sm text-gray-600 mb-4">ã”èˆˆå‘³ã®ã‚ã‚‹æ–¹ã¯ä»¥ä¸‹ã®æ¡ç”¨æƒ…å ±ã‚’ã”ç¢ºèªãã ã•ã„ã€‚</p><div class="flex justify-center"><div class="engage-recruit-widget" data-height="300" data-width="500" data-url="https://en-gage.net/raisex_jobs/widget/?banner=1"></div></div></div></article></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"article":{"id":268,"documentId":"oy8vkgnlt756zh041qbas6zt","title":"ãƒ†ã‚­ã‚¹ãƒˆã®ãƒˆãƒ¼ã‚¯ãƒ³æ•°ã‚’ç¢ºèªã™ã‚‹æ–¹æ³•ï¼šLLMãƒãƒ¥ãƒ¼ãƒ‹ãƒ³ã‚°ã®åŸºç¤çŸ¥è­˜","content":"LLMï¼ˆå¤§è¦æ¨¡è¨€èªãƒ¢ãƒ‡ãƒ«ï¼‰ã®ãƒãƒ¥ãƒ¼ãƒ‹ãƒ³ã‚°ã§ã¯ã€ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ãƒ‡ãƒ¼ã‚¿ã®å“è³ªã ã‘ã§ãªãã€ãƒˆãƒ¼ã‚¯ãƒ³æ•°ãŒé‡è¦ãªå½¹å‰²ã‚’æœãŸã—ã¾ã™ã€‚ãƒˆãƒ¼ã‚¯ãƒ³æ•°ã‚’æŠŠæ¡ã™ã‚‹äº‹ã§ã€ãƒ‡ãƒ¼ã‚¿ã®é©åˆ‡ãªé‡ã‚’åˆ¤æ–­ã—ã€éå­¦ç¿’ã‚’é˜²ãã“ã¨ãŒå¯èƒ½ã«ãªã‚Šã¾ã™ã€‚ã“ã®è¨˜äº‹ã§ã¯ã€ãƒˆãƒ¼ã‚¯ãƒ³æ•°ã‚’ç¢ºèªã™ã‚‹ãŸã‚ã®ä¸»è¦ãªãƒ„ãƒ¼ãƒ«ã¨ãã®ä½¿ã„æ–¹ã‚’è§£èª¬ã—ã¾ã™ã€‚\n\n---\n\n# ãƒˆãƒ¼ã‚¯ãƒ³æ•°ã‚’ç¢ºèªã™ã‚‹ç†ç”±\n\nãƒˆãƒ¼ã‚¯ãƒ³ã¨ã¯ã€ãƒ†ã‚­ã‚¹ãƒˆã‚’å°ã•ãªå˜ä½ã«åˆ†å‰²ã—ãŸã‚‚ã®ã§ã™ã€‚ãŸã¨ãˆã°ã€å˜èªã‚„å¥èª­ç‚¹ã€è¨˜å·ãªã©ãŒè©²å½“ã—ã¾ã™ã€‚LLMã®ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ã§ã¯ã€ä»¥ä¸‹ã®ã‚ˆã†ãªç†ç”±ã§ãƒˆãƒ¼ã‚¯ãƒ³æ•°ã‚’çŸ¥ã‚‹ã“ã¨ãŒé‡è¦ã§ã™ã€‚\n\n1. **é©åˆ‡ãªãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°é‡ã®åˆ¤æ–­**ï¼šãƒˆãƒ¼ã‚¯ãƒ³æ•°ãŒå°‘ãªã„ã¨ãƒ¢ãƒ‡ãƒ«ãŒååˆ†ãªå­¦ç¿’ã‚’è¡Œãˆãšã€æ€§èƒ½ãŒä½ä¸‹ã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚ä¸€æ–¹ã€ãƒ‡ãƒ¼ã‚¿ãŒå¤šã™ãã‚‹ã¨è¨ˆç®—è³‡æºã‚’ç„¡é§„ã«æ¶ˆè²»ã—ã¾ã™ã€‚\n2. **ãƒ¢ãƒ‡ãƒ«ã®ç‰¹æ€§ã«åˆã‚ã›ãŸãƒãƒ¥ãƒ¼ãƒ‹ãƒ³ã‚°**ï¼šãƒ¢ãƒ‡ãƒ«ã”ã¨ã«æœ€é©ãªãƒˆãƒ¼ã‚¯ãƒ³æ•°ãŒç•°ãªã‚‹ãŸã‚ã€ãƒˆãƒ¼ã‚¯ãƒ³åŒ–ã«å¯¾å¿œã—ãŸãƒ„ãƒ¼ãƒ«ã‚’ä½¿ã†ã“ã¨ã§åŠ¹ç‡çš„ãªå­¦ç¿’ã‚’å®Ÿç¾ã§ãã¾ã™ã€‚\n\n---\n\n# ãƒˆãƒ¼ã‚¯ãƒ³æ•°ã‚’ç¢ºèªã™ã‚‹æ‰‹è»½ãªæ–¹æ³•\n\nä»¥ä¸‹ã§ã¯ã€ãƒˆãƒ¼ã‚¯ãƒ³æ•°ã‚’ç¢ºèªã™ã‚‹ãŸã‚ã®ä¸»è¦ãªæ–¹æ³•ã‚’ç´¹ä»‹ã—ã¾ã™ã€‚ãã‚Œãã‚Œã®ãƒ„ãƒ¼ãƒ«ã¯ç‰¹å®šã®ç”¨é€”ã‚„ãƒ¢ãƒ‡ãƒ«ã«é©ã—ã¦ã„ã‚‹ãŸã‚ã€ç›®çš„ã«å¿œã˜ã¦ä½¿ã„åˆ†ã‘ã‚‹ã¨è‰¯ã„ã§ã—ã‚‡ã†ã€‚\n\n## 1. **tiktoken**\n\n### ç‰¹å¾´\n\n`tiktoken`ã¯OpenAIãŒæä¾›ã™ã‚‹ãƒˆãƒ¼ã‚¯ãƒŠã‚¤ã‚¶ãƒ¼ã§ã€GPTã‚·ãƒªãƒ¼ã‚ºå‘ã‘ã«è¨­è¨ˆã•ã‚Œã¦ã„ã¾ã™ã€‚ãƒ¢ãƒ‡ãƒ«ã®ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¨­å®šã‚’å¤‰æ›´ã™ã‚‹ã“ã¨ã§ã€ç•°ãªã‚‹ãƒ¢ãƒ‡ãƒ«ã«å¯¾å¿œå¯èƒ½ã§ã™ã€‚\n\n### ä½¿ç”¨æ–¹æ³•\n\n**ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«**\n\n```bash\npip install tiktoken\n```\n\n**ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰**\n\n```python\nimport tiktoken\n\ndef count_tokens(text):\n    tokenizer = tiktoken.get_encoding(\"o200k_base\") # gpt-4oãƒ¢ãƒ‡ãƒ«å‘ã‘\n    tokens = tokenizer.encode(text)\n    return len(tokens)\n\n# ãƒ†ã‚­ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã¿ãƒˆãƒ¼ã‚¯ãƒ³æ•°ã‚’ç¢ºèª\ninput_file_path = './text.txt'\nwith open(input_file_path, 'r', encoding='utf-8') as file:\n    raw_text = file.read()\n\ntoken_len = count_tokens(raw_text)\nprint(token_len)\n```\n\n**çµæœä¾‹**\n\n- `o200k_base`ã§ã¯1143ãƒˆãƒ¼ã‚¯ãƒ³\n- `cl100k_base`ã«å¤‰æ›´ã™ã‚‹ã¨1420ãƒˆãƒ¼ã‚¯ãƒ³\n\n---\n\n## 2. **Transformers**\n\n### ç‰¹å¾´\n\nHugging Faceã®`transformers`ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¯ã€å¤šãã®ãƒ¢ãƒ‡ãƒ«ã«å¯¾å¿œã—ãŸãƒˆãƒ¼ã‚¯ãƒŠã‚¤ã‚¶ãƒ¼ã‚’æä¾›ã—ã¦ã„ã¾ã™ã€‚æ—¥æœ¬èªãƒ¢ãƒ‡ãƒ«ã«ã‚‚å¯¾å¿œã—ã¦ã„ã‚‹ãŸã‚ã€å¤šè¨€èªãƒ†ã‚­ã‚¹ãƒˆã®è§£æã«ä¾¿åˆ©ã§ã™ã€‚\n\n### ä½¿ç”¨æ–¹æ³•\n\n**ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«**\n\n```bash\npip install transformers\n```\n\n**ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰**\n\n```python\nfrom transformers import AutoTokenizer\n\ndef count_tokens(text):\n    tokenizer = AutoTokenizer.from_pretrained(\"llm-jp/llm-jp-3-3.7b-instruct\")\n    tokens = tokenizer.encode(text)\n    return len(tokens)\n\n# ãƒ†ã‚­ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã¿ãƒˆãƒ¼ã‚¯ãƒ³æ•°ã‚’ç¢ºèª\ninput_file_path = './text.txt'\nwith open(input_file_path, 'r', encoding='utf-8') as file:\n    raw_text = file.read()\n\ntoken_len = count_tokens(raw_text)\nprint(token_len)\n\n```\n\n**çµæœä¾‹**\n\n- `llm-jp-3-3.7b-instruct`ãƒ¢ãƒ‡ãƒ«ã§ã¯991ãƒˆãƒ¼ã‚¯ãƒ³\n- `elyza/ELYZA-japanese-Llama-2-7b-instruct`ã§ã¯1556ãƒˆãƒ¼ã‚¯ãƒ³\n\n---\n\n## 3. **SpaCy**\n\n### ç‰¹å¾´\n\n`spaCy`ã¯æ±ç”¨çš„ãªNLPãƒ„ãƒ¼ãƒ«ã§ã€æ—¥æœ¬èªã‚’å«ã‚€å¤šè¨€èªã®ãƒˆãƒ¼ã‚¯ãƒ³åŒ–ãŒå¯èƒ½ã§ã™ã€‚LLMå°‚ç”¨ã§ã¯ãªã„ãŸã‚ã€ç°¡æ˜“çš„ãªç¢ºèªã«é©ã—ã¦ã„ã¾ã™ã€‚\n\n### ä½¿ç”¨æ–¹æ³•\n\n**ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«**\n\n```bash\npip install spacy\npython -m spacy download ja_core_news_sm\n```\n\n**ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰**\n\n```python\nimport spacy\n\ndef count_tokens(text):\n    nlp = spacy.load(\"ja_core_news_sm\")\n    doc = nlp(text)\n    tokens = [token.text for token in doc]\n    return len(tokens)\n\n# ãƒ†ã‚­ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã¿ãƒˆãƒ¼ã‚¯ãƒ³æ•°ã‚’ç¢ºèª\ninput_file_path = './text.txt'\nwith open(input_file_path, 'r', encoding='utf-8') as file:\n    raw_text = file.read()\n\ntoken_len = count_tokens(raw_text)\nprint(token_len)\n\n```\n\n**çµæœä¾‹**\n\n- ãƒˆãƒ¼ã‚¯ãƒ³æ•°ã¯1118\n\n---\n\n## 4. **MeCab**\n\n### ç‰¹å¾´\n\n`MeCab`ã¯æ—¥æœ¬èªå½¢æ…‹ç´ è§£æãƒ„ãƒ¼ãƒ«ã§ã€`fugashi`ã‚’é€šã˜ã¦Pythonã‹ã‚‰åˆ©ç”¨ã§ãã¾ã™ã€‚æ—¥æœ¬èªãƒ†ã‚­ã‚¹ãƒˆã®è§£æã«ç‰¹åŒ–ã—ã¦ãŠã‚Šã€è©³ç´°ãªãƒˆãƒ¼ã‚¯ãƒ³åŒ–ãŒå¯èƒ½ã§ã™ã€‚\n\n### ä½¿ç”¨æ–¹æ³•\n\n**ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«**\n\n```bash\npip install 'fugashi[unidic]'\npython -m unidic download\n```\n\n**ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰**\n\n```python\nimport fugashi\n\ndef count_tokens(text):\n    tagger = fugashi.Tagger()\n    tokens = [word.surface for word in tagger(text)]\n    return len(tokens)\n\n# ãƒ†ã‚­ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã¿ãƒˆãƒ¼ã‚¯ãƒ³æ•°ã‚’ç¢ºèª\ninput_file_path = './text.txt'\nwith open(input_file_path, 'r', encoding='utf-8') as file:\n    raw_text = file.read()\n\ntoken_len = count_tokens(raw_text)\nprint(token_len)\n\n```\n\n**çµæœä¾‹**\n\n- ãƒˆãƒ¼ã‚¯ãƒ³æ•°ã¯1028\n\n---\n\n# çµè«–ï¼šç›®çš„ã«å¿œã˜ãŸãƒ„ãƒ¼ãƒ«é¸ã³ã‚’\n\nãƒˆãƒ¼ã‚¯ãƒ³æ•°ã‚’ç¢ºèªã™ã‚‹éš›ã®ãƒã‚¤ãƒ³ãƒˆã‚’ã¾ã¨ã‚ã‚‹ã¨ã€ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\n\n- **LLMç”¨ã®ãƒˆãƒ¼ã‚¯ãƒŠã‚¤ã‚¶ãƒ¼ãŒå¿…è¦**ãªã‚‰`tiktoken`ã‚„`transformers`ã‚’ä½¿ç”¨\n- **æ±ç”¨çš„ãªè§£æ**ãªã‚‰`spaCy`ã‚„`MeCab`ãŒä¾¿åˆ©\n\nãƒˆãƒ¼ã‚¯ãƒ³æ•°ãŒã‚ã‹ã‚Œã°ã€ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ãƒ‡ãƒ¼ã‚¿ã‚’ã©ã®ç¨‹åº¦è¿½åŠ ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã‹ã‚„ã€ãƒ¢ãƒ‡ãƒ«ã®ç‰¹æ€§ã«åˆã£ãŸå­¦ç¿’ãŒå¯èƒ½ã«ãªã‚Šã¾ã™ã€‚\n\næ‰‹è»½ã«ãƒˆãƒ¼ã‚¯ãƒ³æ•°ã‚’ç¢ºèªã—ã€åŠ¹ç‡çš„ãªLLMé–‹ç™ºã‚’ç›®æŒ‡ã—ã¾ã—ã‚‡ã†ã€‚\n\n---\n","createdAt":"2025-05-19T08:50:58.242Z","updatedAt":"2025-06-06T00:00:57.810Z","publishedAt":"2025-06-06T00:00:57.823Z","docId":"h2wmt1yaodkt35gehandn5ym","tags":[{"id":20,"documentId":"fbllyhmskvu2l7wbg5dzpkri","createdAt":"2025-05-19T09:48:50.341Z","updatedAt":"2025-05-19T09:48:50.341Z","publishedAt":"2025-05-19T09:48:50.348Z","name":"LLM"},{"id":22,"documentId":"enpfq0z697dadtxijwpwwrsv","createdAt":"2025-05-19T09:49:17.862Z","updatedAt":"2025-05-19T09:49:17.862Z","publishedAt":"2025-05-19T09:49:17.870Z","name":"Python"}],"thumbnail":[{"id":24,"documentId":"yusr2e7tfjt4f1d3g3r3msjr","name":"20250513-20.png","alternativeText":null,"caption":null,"width":1504,"height":844,"formats":{"thumbnail":{"name":"thumbnail_20250513-20.png","hash":"thumbnail_20250513_20_67274fed95","ext":".png","mime":"image/png","path":null,"width":245,"height":137,"size":13.59,"sizeInBytes":13591,"url":"https://stg-raisex-tech-blog.s3.ap-northeast-1.amazonaws.com/thumbnail_20250513_20_67274fed95.png"},"medium":{"name":"medium_20250513-20.png","hash":"medium_20250513_20_67274fed95","ext":".png","mime":"image/png","path":null,"width":750,"height":421,"size":54.76,"sizeInBytes":54763,"url":"https://stg-raisex-tech-blog.s3.ap-northeast-1.amazonaws.com/medium_20250513_20_67274fed95.png"},"small":{"name":"small_20250513-20.png","hash":"small_20250513_20_67274fed95","ext":".png","mime":"image/png","path":null,"width":500,"height":281,"size":33.49,"sizeInBytes":33489,"url":"https://stg-raisex-tech-blog.s3.ap-northeast-1.amazonaws.com/small_20250513_20_67274fed95.png"},"large":{"name":"large_20250513-20.png","hash":"large_20250513_20_67274fed95","ext":".png","mime":"image/png","path":null,"width":1000,"height":561,"size":76.81,"sizeInBytes":76813,"url":"https://stg-raisex-tech-blog.s3.ap-northeast-1.amazonaws.com/large_20250513_20_67274fed95.png"}},"hash":"20250513_20_67274fed95","ext":".png","mime":"image/png","size":21.11,"url":"https://stg-raisex-tech-blog.s3.ap-northeast-1.amazonaws.com/20250513_20_67274fed95.png","previewUrl":null,"provider":"@strapi/provider-upload-aws-s3","provider_metadata":null,"createdAt":"2025-05-20T07:52:26.883Z","updatedAt":"2025-05-20T07:52:26.883Z","publishedAt":"2025-05-20T07:52:26.884Z"}]}},"__N_SSG":true},"page":"/articles/[id]","query":{"id":"oy8vkgnlt756zh041qbas6zt"},"buildId":"_saeqYYuk801MD-5UWwzK","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>