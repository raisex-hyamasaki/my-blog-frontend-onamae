<!DOCTYPE html><html><head><meta charSet="utf-8"/><link rel="icon" href="/favicon.ico"/><meta name="viewport" content="width=device-width, initial-scale=1"/><meta name="description" content="æœ€æ–°ã®æŠ€è¡“ãƒˆãƒ¬ãƒ³ãƒ‰ã€ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã€ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢é–‹ç™ºã€ãƒ„ãƒ¼ãƒ«ã®ãƒ¬ãƒ“ãƒ¥ãƒ¼ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç®¡ç†ç­‰ã«ã¤ã„ã¦ã®è€ƒå¯Ÿã‚’ãŠå±Šã‘"/><meta property="og:url" content="https://blog.raisex.jp/articles/a4m16knr39pl1td3e22hc0xz"/><meta property="og:title" content="ãƒ¬ã‚¤ã‚ºã‚¯ãƒ­ã‚¹TechBlog | ã•ã„ãŸã¾å¸‚å¤§å®®åŒºã‚·ã‚¹ãƒ†ãƒ ä¼šç¤¾raisexé‹å–¶"/><meta property="og:description" content="æœ€æ–°ã®æŠ€è¡“ãƒˆãƒ¬ãƒ³ãƒ‰ã€ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã€ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢é–‹ç™ºã€ãƒ„ãƒ¼ãƒ«ã®ãƒ¬ãƒ“ãƒ¥ãƒ¼ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç®¡ç†ç­‰ã«ã¤ã„ã¦ã®è€ƒå¯Ÿã‚’ãŠå±Šã‘"/><meta property="og:image" content="https://blog.raisex.jphttps://stg-raisex-tech-blog.s3.ap-northeast-1.amazonaws.com/medium_20250513_08_a7cf147e40.png"/><meta property="og:type" content="article"/><meta name="twitter:card" content="summary_large_image"/><title>Reactã§setIntervalã‚’æ‰±ã†æ–¹æ³•<!-- --> | ãƒ¬ã‚¤ã‚ºã‚¯ãƒ­ã‚¹ Tech Blog</title><meta name="next-head-count" content="11"/><link rel="preload" href="/_next/static/css/7d757bdfdfb985a7.css" as="style"/><link rel="stylesheet" href="/_next/static/css/7d757bdfdfb985a7.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-42372ed130431b0a.js"></script><script src="/_next/static/chunks/webpack-2c547fd4592db0a6.js" defer=""></script><script src="/_next/static/chunks/framework-e952fed463eb8e34.js" defer=""></script><script src="/_next/static/chunks/main-72cf801a60c05482.js" defer=""></script><script src="/_next/static/chunks/pages/_app-b6737859a806843a.js" defer=""></script><script src="/_next/static/chunks/a2bf56a3-f921f321ae1e0e8d.js" defer=""></script><script src="/_next/static/chunks/61-43a5fb199f2ef164.js" defer=""></script><script src="/_next/static/chunks/257-c12ad0b16790f4c5.js" defer=""></script><script src="/_next/static/chunks/pages/articles/%5Bid%5D-29223262aecac2b3.js" defer=""></script><script src="/_next/static/_saeqYYuk801MD-5UWwzK/_buildManifest.js" defer=""></script><script src="/_next/static/_saeqYYuk801MD-5UWwzK/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="max-w-[1024px] mx-auto px-4"><header class="sticky top-0 z-20 bg-white border-b border-gray-200 h-12 flex items-center justify-between px-4"><a class="text-blue-600 no-underline hover:text-gray-600 text-lg font-bold" href="/">ğŸ“‹ ãƒ¬ã‚¤ã‚ºã‚¯ãƒ­ã‚¹ Tech Blog</a><div class="flex gap-3"><a href="https://twitter.com/share" target="_blank" rel="noopener noreferrer"><img src="/icons/x.svg" alt="Share on X" class="h-7 w-7"/></a><a href="https://www.facebook.com/sharer/sharer.php" target="_blank" rel="noopener noreferrer"><img src="/icons/facebook.svg" alt="Share on Facebook" class="h-7 w-7"/></a><a href="https://social-plugins.line.me/lineit/share" target="_blank" rel="noopener noreferrer"><img src="/icons/line.svg" alt="Share on LINE" class="h-7 w-7"/></a></div></header><article class="prose prose-slate max-w-none pt-6"><h1 class="text-3xl font-bold border-b pb-2">Reactã§setIntervalã‚’æ‰±ã†æ–¹æ³•</h1><div class="text-sm text-gray-500 mb-4">æŠ•ç¨¿æ›´æ–°æ—¥: <!-- -->2025/6/6 8:53:22</div><div class="flex flex-wrap gap-2 mb-4"><span class="bg-blue-100 text-blue-800 text-xs font-semibold px-2 py-1 rounded-full">#<!-- -->Frontend</span><span class="bg-blue-100 text-blue-800 text-xs font-semibold px-2 py-1 rounded-full">#<!-- -->React</span></div><div class="w-full flex justify-center mb-6"><img src="https://stg-raisex-tech-blog.s3.ap-northeast-1.amazonaws.com/medium_20250513_08_a7cf147e40.png" alt="ã‚µãƒ ãƒã‚¤ãƒ«" class="w-full max-w-[800px] h-auto rounded"/></div><p>Reactã®Webã‚¢ãƒ—ãƒªã§ä¸€å®šé–“éš”ã§ã‚«ã‚¦ãƒ³ãƒˆã‚¢ãƒƒãƒ—ã™ã‚‹å‡¦ç†ã‚’å®Ÿè£…ã—ãŸéš›ã«ç›´é¢ã—ãŸèª²é¡Œã¨ã€ãã®è§£æ±ºç­–ã«ã¤ã„ã¦è§£èª¬ã—ã¾ã™ã€‚</p>
<p>ã“ã®æ–¹æ³•ã‚’ç†è§£ã™ã‚Œã°ã€Reactã§ <code class="bg-yellow-200 font-mono px-[0.3rem] py-[0.1rem] rounded whitespace-nowrap text-inherit">setInterval</code> ã‚’é©åˆ‡ã«æ‰±ã†æŠ€è¡“ãŒèº«ã«ä»˜ãã¾ã™ã€‚</p>
<p>ãã®èª²é¡Œã¨è§£æ±ºç­–ã«ã¤ã„ã¦ã€å®Ÿä¾‹ã‚’äº¤ãˆãªãŒã‚‰è§£èª¬ã—ã¾ã™ã€‚</p>
<hr/>
<h1>èª²é¡Œï¼š<code class="bg-yellow-200 font-mono px-[0.3rem] py-[0.1rem] rounded whitespace-nowrap text-inherit">setInterval</code>ã®æ‰±ã„ã«ã‚ˆã‚‹å•é¡Œ</h1>
<p>ã‚ã‚‹ã‚¢ãƒ—ãƒªã§ã€ç‰¹å®šæ¡ä»¶ã‚’æº€ãŸã™å ´åˆã«ã‚«ã‚¦ãƒ³ãƒˆã‚¢ãƒƒãƒ—ã—ã€æ¡ä»¶ã‚’æº€ãŸã•ãªã„å ´åˆã¯ã‚«ã‚¦ãƒ³ãƒˆã‚’ãƒªã‚»ãƒƒãƒˆã™ã‚‹æ©Ÿèƒ½ã‚’å®Ÿè£…ã—ã¾ã—ãŸã€‚</p>
<p>ä»¥ä¸‹ãŒãã®ã‚³ãƒ¼ãƒ‰ä¾‹ã§ã™ã€‚</p>
<h2>å•é¡Œã®ã‚³ãƒ¼ãƒ‰</h2>
<pre><div class="relative my-4"><button class="absolute top-2 right-2 text-xs bg-gray-700 text-white px-2 py-1 rounded hover:bg-gray-600">Copy</button><pre style="background:transparent;color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre-wrap;word-spacing:normal;word-break:break-word;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:0.75rem;margin:0;overflow:auto;border-radius:0.5rem;overflow-x:auto"><code class="language-tsx" style="white-space:pre;background:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token module" style="color:hsl(286, 60%, 67%)">import</span><span> </span><span class="token imports maybe-class-name">React</span><span class="token imports" style="color:hsl(220, 14%, 71%)">,</span><span class="token imports"> </span><span class="token imports" style="color:hsl(220, 14%, 71%)">{</span><span class="token imports"> useState</span><span class="token imports" style="color:hsl(220, 14%, 71%)">,</span><span class="token imports"> useEffect</span><span class="token imports" style="color:hsl(220, 14%, 71%)">,</span><span class="token imports"> useRef </span><span class="token imports" style="color:hsl(220, 14%, 71%)">}</span><span> </span><span class="token module" style="color:hsl(286, 60%, 67%)">from</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">&#x27;react&#x27;</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span>
<span></span><span class="token" style="color:hsl(286, 60%, 67%)">const</span><span> </span><span class="token function-variable maybe-class-name" style="color:hsl(207, 82%, 66%)">App</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token arrow" style="color:hsl(207, 82%, 66%)">=&gt;</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span><span>    </span><span class="token" style="color:hsl(286, 60%, 67%)">const</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">[</span><span>timer</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span> setTimer</span><span class="token" style="color:hsl(220, 14%, 71%)">]</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">useState</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(29, 54%, 61%)">0</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span><span>    </span><span class="token" style="color:hsl(286, 60%, 67%)">const</span><span> intervalRef </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">useRef</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token nil" style="color:hsl(286, 60%, 67%)">null</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span><span>    </span><span class="token" style="color:hsl(286, 60%, 67%)">const</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">[</span><span>condition</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span> setCondition</span><span class="token" style="color:hsl(220, 14%, 71%)">]</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">useState</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">[</span><span class="token" style="color:hsl(220, 14%, 71%)">]</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span>    
<span>    </span><span class="token" style="color:hsl(220, 10%, 40%);font-style:italic">// åˆ¥ã®useEffectã§updateConditionãŒå®Ÿè¡Œã•ã‚Œã‚‹</span><span>
</span><span>    </span><span class="token" style="color:hsl(286, 60%, 67%)">const</span><span> </span><span class="token function-variable" style="color:hsl(207, 82%, 66%)">updateCondition</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>data</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token arrow" style="color:hsl(207, 82%, 66%)">=&gt;</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span><span>        </span><span class="token" style="color:hsl(207, 82%, 66%)">setCondition</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>prev</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token arrow" style="color:hsl(207, 82%, 66%)">=&gt;</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">[</span><span class="token spread" style="color:hsl(207, 82%, 66%)">...</span><span>data</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>hoge</span><span class="token" style="color:hsl(207, 82%, 66%)">:</span><span> data</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token property-access">hoge</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span> fuga</span><span class="token" style="color:hsl(207, 82%, 66%)">:</span><span> data</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token property-access">fuga</span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span class="token" style="color:hsl(220, 14%, 71%)">]</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span>
</span><span>    </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span>
</span>    
<span>    </span><span class="token" style="color:hsl(286, 60%, 67%)">const</span><span> </span><span class="token function-variable" style="color:hsl(207, 82%, 66%)">countUpTimer</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token arrow" style="color:hsl(207, 82%, 66%)">=&gt;</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span><span>        </span><span class="token control-flow" style="color:hsl(286, 60%, 67%)">return</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">setInterval</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token arrow" style="color:hsl(207, 82%, 66%)">=&gt;</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span><span>            </span><span class="token" style="color:hsl(207, 82%, 66%)">setTimer</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>prevTimer</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token arrow" style="color:hsl(207, 82%, 66%)">=&gt;</span><span> prevTimer </span><span class="token" style="color:hsl(207, 82%, 66%)">+</span><span> </span><span class="token" style="color:hsl(29, 54%, 61%)">1</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span><span>        </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span> </span><span class="token" style="color:hsl(29, 54%, 61%)">1000</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span>
</span><span>    </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span>
</span>
<span>    </span><span class="token" style="color:hsl(220, 10%, 40%);font-style:italic">// ç‰¹å®šã®æ¡ä»¶ã§ã‚«ã‚¦ãƒ³ãƒˆã‚¢ãƒƒãƒ—é–‹å§‹</span><span>
</span><span>    </span><span class="token" style="color:hsl(207, 82%, 66%)">useEffect</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token arrow" style="color:hsl(207, 82%, 66%)">=&gt;</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span><span>        </span><span class="token control-flow" style="color:hsl(286, 60%, 67%)">if</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>condition</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token property-access">length</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">&gt;</span><span> </span><span class="token" style="color:hsl(29, 54%, 61%)">1</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span><span>            </span><span class="token control-flow" style="color:hsl(286, 60%, 67%)">if</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(207, 82%, 66%)">!</span><span>intervalRef</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token property-access">current</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span><span>                intervalRef</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token property-access">current</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">countUpTimer</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span>
</span><span>            </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span>
</span><span>        </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span> </span><span class="token control-flow" style="color:hsl(286, 60%, 67%)">else</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span><span>            </span><span class="token" style="color:hsl(207, 82%, 66%)">clearInterval</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>intervalRef</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token property-access">current</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span><span>            intervalRef</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token property-access">current</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> </span><span class="token nil" style="color:hsl(286, 60%, 67%)">null</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span><span>            </span><span class="token" style="color:hsl(207, 82%, 66%)">setTimer</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(29, 54%, 61%)">0</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span><span>        </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span>
</span>
<span>        </span><span class="token control-flow" style="color:hsl(286, 60%, 67%)">return</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token arrow" style="color:hsl(207, 82%, 66%)">=&gt;</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">clearInterval</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>intervalRef</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token property-access">current</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span><span>    </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">[</span><span>condition</span><span class="token" style="color:hsl(220, 14%, 71%)">]</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span>
<span>    </span><span class="token" style="color:hsl(220, 10%, 40%);font-style:italic">// ãã®ä»–ã®å‡¦ç†ã¯çœç•¥</span><span>
</span>
<span>    </span><span class="token control-flow" style="color:hsl(286, 60%, 67%)">return</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>
</span><span>        </span><span class="token" style="color:hsl(220, 14%, 71%)">&lt;</span><span class="token" style="color:hsl(355, 65%, 65%)">div</span><span class="token" style="color:hsl(220, 14%, 71%)">&gt;</span><span class="token plain-text">
</span><span class="token plain-text">            </span><span class="token" style="color:hsl(220, 14%, 71%)">&lt;</span><span class="token" style="color:hsl(355, 65%, 65%)">h1</span><span class="token" style="color:hsl(220, 14%, 71%)">&gt;</span><span class="token plain-text">Timer: </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>timer</span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span class="token" style="color:hsl(220, 14%, 71%)">&lt;/</span><span class="token" style="color:hsl(355, 65%, 65%)">h1</span><span class="token" style="color:hsl(220, 14%, 71%)">&gt;</span><span class="token plain-text">
</span><span class="token plain-text">        </span><span class="token" style="color:hsl(220, 14%, 71%)">&lt;/</span><span class="token" style="color:hsl(355, 65%, 65%)">div</span><span class="token" style="color:hsl(220, 14%, 71%)">&gt;</span><span>
</span><span>    </span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span><span></span><span class="token" style="color:hsl(220, 14%, 71%)">}</span></code></pre></div></pre>
<h2>å•é¡Œç‚¹</h2>
<p><code class="bg-yellow-200 font-mono px-[0.3rem] py-[0.1rem] rounded whitespace-nowrap text-inherit">useEffect</code>ã§ <code class="bg-yellow-200 font-mono px-[0.3rem] py-[0.1rem] rounded whitespace-nowrap text-inherit">condition</code> ã®çŠ¶æ…‹ãŒå¤‰ã‚ã‚‹ãŸã³ã«ã€<code class="bg-yellow-200 font-mono px-[0.3rem] py-[0.1rem] rounded whitespace-nowrap text-inherit">setInterval</code>ã®ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ãŒåœæ­¢ã™ã‚‹å•é¡ŒãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚ã“ã®ç¾è±¡ã¯ã€<code class="bg-yellow-200 font-mono px-[0.3rem] py-[0.1rem] rounded whitespace-nowrap text-inherit">setInterval</code>ãŒã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£ã®å†…éƒ¨ã§å¤ã„<code class="bg-yellow-200 font-mono px-[0.3rem] py-[0.1rem] rounded whitespace-nowrap text-inherit">state</code>ã‚’å‚ç…§ã—ã¦ã—ã¾ã†ãŸã‚ã«èµ·ã“ã‚Šã¾ã™ã€‚</p>
<hr/>
<h1>è§£æ±ºç­–ï¼š<code class="bg-yellow-200 font-mono px-[0.3rem] py-[0.1rem] rounded whitespace-nowrap text-inherit">useInterval</code>ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯ã®å®Ÿè£…</h1>
<p>ã“ã®å•é¡Œã‚’è§£æ±ºã™ã‚‹ã«ã¯ã€<code class="bg-yellow-200 font-mono px-[0.3rem] py-[0.1rem] rounded whitespace-nowrap text-inherit">setInterval</code>ã‚’å†åˆ©ç”¨å¯èƒ½ãªå½¢ã§ã‚«ãƒ—ã‚»ãƒ«åŒ–ã—ã€æœ€æ–°ã®<code class="bg-yellow-200 font-mono px-[0.3rem] py-[0.1rem] rounded whitespace-nowrap text-inherit">state</code>ã‚’æ­£ã—ãå‚ç…§ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯ã‚’ä½œæˆã—ã¾ã™ã€‚</p>
<h2><code class="bg-yellow-200 font-mono px-[0.3rem] py-[0.1rem] rounded whitespace-nowrap text-inherit">useInterval.js</code>ã®å®Ÿè£…</h2>
<p>ä»¥ä¸‹ã®ã‚ˆã†ã«ã€<code class="bg-yellow-200 font-mono px-[0.3rem] py-[0.1rem] rounded whitespace-nowrap text-inherit">useInterval</code>ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯ã‚’å®Ÿè£…ã—ã¾ã™ã€‚</p>
<pre><div class="relative my-4"><button class="absolute top-2 right-2 text-xs bg-gray-700 text-white px-2 py-1 rounded hover:bg-gray-600">Copy</button><pre style="background:transparent;color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre-wrap;word-spacing:normal;word-break:break-word;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:0.75rem;margin:0;overflow:auto;border-radius:0.5rem;overflow-x:auto"><code class="language-tsx" style="white-space:pre;background:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token module" style="color:hsl(286, 60%, 67%)">import</span><span> </span><span class="token imports" style="color:hsl(220, 14%, 71%)">{</span><span class="token imports"> useEffect</span><span class="token imports" style="color:hsl(220, 14%, 71%)">,</span><span class="token imports"> useRef </span><span class="token imports" style="color:hsl(220, 14%, 71%)">}</span><span> </span><span class="token module" style="color:hsl(286, 60%, 67%)">from</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">&#x27;react&#x27;</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span>
<span></span><span class="token module" style="color:hsl(286, 60%, 67%)">export</span><span> </span><span class="token" style="color:hsl(286, 60%, 67%)">function</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">useInterval</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>callback</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span> delay</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span><span>    </span><span class="token" style="color:hsl(286, 60%, 67%)">const</span><span> savedCallback </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">useRef</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span>
<span>    </span><span class="token" style="color:hsl(220, 10%, 40%);font-style:italic">// æœ€æ–°ã®ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã‚’ä¿å­˜</span><span>
</span><span>    </span><span class="token" style="color:hsl(207, 82%, 66%)">useEffect</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token arrow" style="color:hsl(207, 82%, 66%)">=&gt;</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span><span>        savedCallback</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token property-access">current</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> callback</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span><span>    </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">[</span><span>callback</span><span class="token" style="color:hsl(220, 14%, 71%)">]</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span>
<span>    </span><span class="token" style="color:hsl(207, 82%, 66%)">useEffect</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token arrow" style="color:hsl(207, 82%, 66%)">=&gt;</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span><span>        </span><span class="token" style="color:hsl(286, 60%, 67%)">function</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">func</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span><span>            savedCallback</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">current</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span><span>        </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span>
</span><span>        </span><span class="token control-flow" style="color:hsl(286, 60%, 67%)">if</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>delay </span><span class="token" style="color:hsl(207, 82%, 66%)">!==</span><span> </span><span class="token nil" style="color:hsl(286, 60%, 67%)">null</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span><span>            </span><span class="token" style="color:hsl(286, 60%, 67%)">let</span><span> id </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">setInterval</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>func</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span> delay</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span><span>            </span><span class="token control-flow" style="color:hsl(286, 60%, 67%)">return</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token arrow" style="color:hsl(207, 82%, 66%)">=&gt;</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">clearInterval</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>id</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span><span>        </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span>
</span><span>    </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">[</span><span>delay</span><span class="token" style="color:hsl(220, 14%, 71%)">]</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span><span></span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span>
</span></code></pre></div></pre>
<ul>
<li><code class="bg-yellow-200 font-mono px-[0.3rem] py-[0.1rem] rounded whitespace-nowrap text-inherit">callback</code>: å®Ÿè¡Œã—ãŸã„å‡¦ç†</li>
<li><code class="bg-yellow-200 font-mono px-[0.3rem] py-[0.1rem] rounded whitespace-nowrap text-inherit">delay</code>: å®Ÿè¡Œé–“éš”ï¼ˆãƒŸãƒªç§’ï¼‰ã€‚<code class="bg-yellow-200 font-mono px-[0.3rem] py-[0.1rem] rounded whitespace-nowrap text-inherit">null</code>ã®å ´åˆã¯å®Ÿè¡Œã‚’åœæ­¢ã—ã¾ã™ã€‚</li>
</ul>
<p><code class="bg-yellow-200 font-mono px-[0.3rem] py-[0.1rem] rounded whitespace-nowrap text-inherit">useInterval</code>ã‚’ä½¿ç”¨ã™ã‚‹ã¨ã€ã‚¿ã‚¤ãƒãƒ¼ã®ãƒ­ã‚¸ãƒƒã‚¯ãŒç°¡æ½”ã«ãªã‚Šã€ä¾å­˜é–¢ä¿‚ã®ç®¡ç†ãŒã—æ˜“ããªã‚Šã¾ã™ã€‚</p>
<hr/>
<h2><code class="bg-yellow-200 font-mono px-[0.3rem] py-[0.1rem] rounded whitespace-nowrap text-inherit">useInterval</code>ã®åˆ©ç”¨ä¾‹</h2>
<p>ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯ã‚’æ´»ç”¨ã™ã‚‹ã¨ã€ã‚¢ãƒ—ãƒªã®ãƒ­ã‚¸ãƒƒã‚¯ãŒã‚·ãƒ³ãƒ—ãƒ«ã«ãªã‚Šã¾ã™ã€‚</p>
<pre><div class="relative my-4"><button class="absolute top-2 right-2 text-xs bg-gray-700 text-white px-2 py-1 rounded hover:bg-gray-600">Copy</button><pre style="background:transparent;color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre-wrap;word-spacing:normal;word-break:break-word;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:0.75rem;margin:0;overflow:auto;border-radius:0.5rem;overflow-x:auto"><code class="language-tsx" style="white-space:pre;background:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token module" style="color:hsl(286, 60%, 67%)">import</span><span> </span><span class="token imports maybe-class-name">React</span><span class="token imports" style="color:hsl(220, 14%, 71%)">,</span><span class="token imports"> </span><span class="token imports" style="color:hsl(220, 14%, 71%)">{</span><span class="token imports"> useState</span><span class="token imports" style="color:hsl(220, 14%, 71%)">,</span><span class="token imports"> useEffect </span><span class="token imports" style="color:hsl(220, 14%, 71%)">}</span><span> </span><span class="token module" style="color:hsl(286, 60%, 67%)">from</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">&#x27;react&#x27;</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span><span></span><span class="token module" style="color:hsl(286, 60%, 67%)">import</span><span> </span><span class="token imports" style="color:hsl(220, 14%, 71%)">{</span><span class="token imports"> useInterval </span><span class="token imports" style="color:hsl(220, 14%, 71%)">}</span><span> </span><span class="token module" style="color:hsl(286, 60%, 67%)">from</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">&#x27;./useInterval&#x27;</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span>
<span></span><span class="token" style="color:hsl(286, 60%, 67%)">const</span><span> </span><span class="token function-variable maybe-class-name" style="color:hsl(207, 82%, 66%)">App</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token arrow" style="color:hsl(207, 82%, 66%)">=&gt;</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span><span>    </span><span class="token" style="color:hsl(286, 60%, 67%)">const</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">[</span><span>timer</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span> setTimer</span><span class="token" style="color:hsl(220, 14%, 71%)">]</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">useState</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(29, 54%, 61%)">0</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span>
<span>    </span><span class="token" style="color:hsl(286, 60%, 67%)">const</span><span> </span><span class="token function-variable" style="color:hsl(207, 82%, 66%)">condition</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token arrow" style="color:hsl(207, 82%, 66%)">=&gt;</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span><span>        </span><span class="token" style="color:hsl(220, 10%, 40%);font-style:italic">// åˆ¥ã®stateã‚’ä½¿ã£ã¦æ¡ä»¶ã®è¨ˆç®—ï¼ˆä¾‹: ç‰¹å®šã®çŠ¶æ…‹ã‹ã©ã†ã‹ï¼‰</span><span>
</span><span>    </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span>
<span>    </span><span class="token" style="color:hsl(207, 82%, 66%)">useInterval</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token arrow" style="color:hsl(207, 82%, 66%)">=&gt;</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span><span>        </span><span class="token" style="color:hsl(207, 82%, 66%)">setTimer</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>prevTimer</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token arrow" style="color:hsl(207, 82%, 66%)">=&gt;</span><span> prevTimer </span><span class="token" style="color:hsl(207, 82%, 66%)">+</span><span> </span><span class="token" style="color:hsl(29, 54%, 61%)">1</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span><span>    </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span> condition </span><span class="token" style="color:hsl(207, 82%, 66%)">?</span><span> </span><span class="token" style="color:hsl(29, 54%, 61%)">1000</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">:</span><span> </span><span class="token nil" style="color:hsl(286, 60%, 67%)">null</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span>
<span>    </span><span class="token" style="color:hsl(207, 82%, 66%)">useEffect</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token arrow" style="color:hsl(207, 82%, 66%)">=&gt;</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span><span>        </span><span class="token control-flow" style="color:hsl(286, 60%, 67%)">if</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(207, 82%, 66%)">!</span><span>condition</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span><span>            </span><span class="token" style="color:hsl(207, 82%, 66%)">setTimer</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(29, 54%, 61%)">0</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span><span>        </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span>
</span><span>    </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">[</span><span>condition</span><span class="token" style="color:hsl(220, 14%, 71%)">]</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span>
<span>    </span><span class="token" style="color:hsl(220, 10%, 40%);font-style:italic">// ãã®ä»–ã®å‡¦ç†ã¯çœç•¥</span><span>
</span>
<span>    </span><span class="token control-flow" style="color:hsl(286, 60%, 67%)">return</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>
</span><span>        </span><span class="token" style="color:hsl(220, 14%, 71%)">&lt;</span><span class="token" style="color:hsl(355, 65%, 65%)">div</span><span class="token" style="color:hsl(220, 14%, 71%)">&gt;</span><span class="token plain-text">
</span><span class="token plain-text">            </span><span class="token" style="color:hsl(220, 14%, 71%)">&lt;</span><span class="token" style="color:hsl(355, 65%, 65%)">h1</span><span class="token" style="color:hsl(220, 14%, 71%)">&gt;</span><span class="token plain-text">Timer: </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>timer</span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span class="token" style="color:hsl(220, 14%, 71%)">&lt;/</span><span class="token" style="color:hsl(355, 65%, 65%)">h1</span><span class="token" style="color:hsl(220, 14%, 71%)">&gt;</span><span class="token plain-text">
</span><span class="token plain-text">        </span><span class="token" style="color:hsl(220, 14%, 71%)">&lt;/</span><span class="token" style="color:hsl(355, 65%, 65%)">div</span><span class="token" style="color:hsl(220, 14%, 71%)">&gt;</span><span>
</span><span>    </span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span><span></span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></code></pre></div></pre>
<h3>ä¸»ãªãƒã‚¤ãƒ³ãƒˆ</h3>
<ul>
<li><code class="bg-yellow-200 font-mono px-[0.3rem] py-[0.1rem] rounded whitespace-nowrap text-inherit">useInterval</code>ã‚’åˆ©ç”¨ã™ã‚‹ã“ã¨ã§ã€<code class="bg-yellow-200 font-mono px-[0.3rem] py-[0.1rem] rounded whitespace-nowrap text-inherit">setInterval</code>ã®ç®¡ç†ãŒæ˜ç¤ºçš„ã‹ã¤å®‰å…¨ã«ãªã‚Šã¾ã™ã€‚</li>
<li><code class="bg-yellow-200 font-mono px-[0.3rem] py-[0.1rem] rounded whitespace-nowrap text-inherit">condition</code>ãŒ<code class="bg-yellow-200 font-mono px-[0.3rem] py-[0.1rem] rounded whitespace-nowrap text-inherit">false</code>ã®å ´åˆã¯<code class="bg-yellow-200 font-mono px-[0.3rem] py-[0.1rem] rounded whitespace-nowrap text-inherit">delay</code>ãŒ<code class="bg-yellow-200 font-mono px-[0.3rem] py-[0.1rem] rounded whitespace-nowrap text-inherit">null</code>ã«ãªã‚‹ãŸã‚ã€ã‚«ã‚¦ãƒ³ãƒˆã‚¢ãƒƒãƒ—ãŒåœæ­¢ã—ã€ã‚«ã‚¦ãƒ³ã‚¿ã‚’ãƒªã‚»ãƒƒãƒˆã—ã¾ã™ã€‚</li>
</ul>
<hr/>
<h1>ã¾ã¨ã‚</h1>
<p><code class="bg-yellow-200 font-mono px-[0.3rem] py-[0.1rem] rounded whitespace-nowrap text-inherit">setInterval</code>ã‚’Reactã§é©åˆ‡ã«æ‰±ã†ã«ã¯ã€ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£ã‚„ä¾å­˜é–¢ä¿‚ã®ç®¡ç†ã«æ³¨æ„ãŒå¿…è¦ã§ã™ã€‚</p>
<p>ä»Šå›ç´¹ä»‹ã—ãŸ<code class="bg-yellow-200 font-mono px-[0.3rem] py-[0.1rem] rounded whitespace-nowrap text-inherit">useInterval</code>ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§ã€ã‚³ãƒ¼ãƒ‰ã®å¯èª­æ€§ã¨å†åˆ©ç”¨æ€§ã‚’é«˜ã‚ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚</p>
<p>Reacté–‹ç™ºã®ä¸­ã§<code class="bg-yellow-200 font-mono px-[0.3rem] py-[0.1rem] rounded whitespace-nowrap text-inherit">setInterval</code>ã‚’å®‰å…¨ã‹ã¤åŠ¹ç‡çš„ã«ä½¿ç”¨ã™ã‚‹æ–¹æ³•ã‚’å­¦ã³ã€ã‚ˆã‚Šæ´—ç·´ã•ã‚ŒãŸã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã‘ã‚‹ã‚ˆã†ã«ã—ã¦ã„ãã¾ã—ã‚‡ã†ï¼</p>
<hr/>
<h1>å‚è€ƒè³‡æ–™</h1>
<p><a href="https://overreacted.io/making-setinterval-declarative-with-react-hooks/" target="_blank" rel="noopener noreferrer" class="text-blue-600 underline">https://overreacted.io/making-setinterval-declarative-with-react-hooks/</a></p>
<p><a href="https://www.geeksforgeeks.org/reactjs-useinterval-custom-hook/" target="_blank" rel="noopener noreferrer" class="text-blue-600 underline">https://www.geeksforgeeks.org/reactjs-useinterval-custom-hook/</a></p>
<p><a href="https://usehooks-ts.com/react-hook/use-interval" target="_blank" rel="noopener noreferrer" class="text-blue-600 underline">https://usehooks-ts.com/react-hook/use-interval</a></p>
<hr/><div class="text-center mt-8"><a class="inline-block bg-gray-800 text-white no-underline px-4 py-2 rounded hover:bg-gray-700" href="/">â† è¨˜äº‹ä¸€è¦§ã«æˆ»ã‚‹</a></div><div class="my-12 text-center"><p class="font-bold text-gray-800">åˆåŒä¼šç¤¾raisexã§ã¯ä¸€ç·’ã«åƒãä»²é–“ã‚’å‹Ÿé›†ä¸­ã§ã™ã€‚</p><p class="text-sm text-gray-600 mb-4">ã”èˆˆå‘³ã®ã‚ã‚‹æ–¹ã¯ä»¥ä¸‹ã®æ¡ç”¨æƒ…å ±ã‚’ã”ç¢ºèªãã ã•ã„ã€‚</p><div class="flex justify-center"><div class="engage-recruit-widget" data-height="300" data-width="500" data-url="https://en-gage.net/raisex_jobs/widget/?banner=1"></div></div></div></article></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"article":{"id":256,"documentId":"a4m16knr39pl1td3e22hc0xz","title":"Reactã§setIntervalã‚’æ‰±ã†æ–¹æ³•","content":"Reactã®Webã‚¢ãƒ—ãƒªã§ä¸€å®šé–“éš”ã§ã‚«ã‚¦ãƒ³ãƒˆã‚¢ãƒƒãƒ—ã™ã‚‹å‡¦ç†ã‚’å®Ÿè£…ã—ãŸéš›ã«ç›´é¢ã—ãŸèª²é¡Œã¨ã€ãã®è§£æ±ºç­–ã«ã¤ã„ã¦è§£èª¬ã—ã¾ã™ã€‚\n\nã“ã®æ–¹æ³•ã‚’ç†è§£ã™ã‚Œã°ã€Reactã§ `setInterval` ã‚’é©åˆ‡ã«æ‰±ã†æŠ€è¡“ãŒèº«ã«ä»˜ãã¾ã™ã€‚\n\nãã®èª²é¡Œã¨è§£æ±ºç­–ã«ã¤ã„ã¦ã€å®Ÿä¾‹ã‚’äº¤ãˆãªãŒã‚‰è§£èª¬ã—ã¾ã™ã€‚\n\n---\n\n# èª²é¡Œï¼š`setInterval`ã®æ‰±ã„ã«ã‚ˆã‚‹å•é¡Œ\n\nã‚ã‚‹ã‚¢ãƒ—ãƒªã§ã€ç‰¹å®šæ¡ä»¶ã‚’æº€ãŸã™å ´åˆã«ã‚«ã‚¦ãƒ³ãƒˆã‚¢ãƒƒãƒ—ã—ã€æ¡ä»¶ã‚’æº€ãŸã•ãªã„å ´åˆã¯ã‚«ã‚¦ãƒ³ãƒˆã‚’ãƒªã‚»ãƒƒãƒˆã™ã‚‹æ©Ÿèƒ½ã‚’å®Ÿè£…ã—ã¾ã—ãŸã€‚\n\nä»¥ä¸‹ãŒãã®ã‚³ãƒ¼ãƒ‰ä¾‹ã§ã™ã€‚\n\n## å•é¡Œã®ã‚³ãƒ¼ãƒ‰\n\n```tsx\nimport React, { useState, useEffect, useRef } from 'react';\n\nconst App = () =\u003e {\n    const [timer, setTimer] = useState(0);\n    const intervalRef = useRef(null);\n    const [condition, setCondition] = useState([]);\n    \n    // åˆ¥ã®useEffectã§updateConditionãŒå®Ÿè¡Œã•ã‚Œã‚‹\n    const updateCondition = (data) =\u003e {\n        setCondition((prev) =\u003e [...data, {hoge: data.hoge, fuga: data.fuga}])\n    }\n    \n    const countUpTimer = () =\u003e {\n        return setInterval(() =\u003e {\n            setTimer((prevTimer) =\u003e prevTimer + 1);\n        }, 1000)\n    }\n\n    // ç‰¹å®šã®æ¡ä»¶ã§ã‚«ã‚¦ãƒ³ãƒˆã‚¢ãƒƒãƒ—é–‹å§‹\n    useEffect(() =\u003e {\n        if (condition.length \u003e 1) {\n            if (!intervalRef.current) {\n                intervalRef.current = countUpTimer()\n            }\n        } else {\n            clearInterval(intervalRef.current);\n            intervalRef.current = null;\n            setTimer(0);\n        }\n\n        return () =\u003e clearInterval(intervalRef.current);\n    }, [condition]);\n\n    // ãã®ä»–ã®å‡¦ç†ã¯çœç•¥\n\n    return (\n        \u003cdiv\u003e\n            \u003ch1\u003eTimer: {timer}\u003c/h1\u003e\n        \u003c/div\u003e\n    );\n}\n```\n\n## å•é¡Œç‚¹\n\n`useEffect`ã§ `condition` ã®çŠ¶æ…‹ãŒå¤‰ã‚ã‚‹ãŸã³ã«ã€`setInterval`ã®ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ãŒåœæ­¢ã™ã‚‹å•é¡ŒãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚ã“ã®ç¾è±¡ã¯ã€`setInterval`ãŒã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£ã®å†…éƒ¨ã§å¤ã„`state`ã‚’å‚ç…§ã—ã¦ã—ã¾ã†ãŸã‚ã«èµ·ã“ã‚Šã¾ã™ã€‚\n\n---\n\n# è§£æ±ºç­–ï¼š`useInterval`ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯ã®å®Ÿè£…\n\nã“ã®å•é¡Œã‚’è§£æ±ºã™ã‚‹ã«ã¯ã€`setInterval`ã‚’å†åˆ©ç”¨å¯èƒ½ãªå½¢ã§ã‚«ãƒ—ã‚»ãƒ«åŒ–ã—ã€æœ€æ–°ã®`state`ã‚’æ­£ã—ãå‚ç…§ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯ã‚’ä½œæˆã—ã¾ã™ã€‚\n\n## `useInterval.js`ã®å®Ÿè£…\n\nä»¥ä¸‹ã®ã‚ˆã†ã«ã€`useInterval`ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯ã‚’å®Ÿè£…ã—ã¾ã™ã€‚\n\n```tsx\nimport { useEffect, useRef } from 'react';\n\nexport function useInterval(callback, delay) {\n    const savedCallback = useRef();\n\n    // æœ€æ–°ã®ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã‚’ä¿å­˜\n    useEffect(() =\u003e {\n        savedCallback.current = callback;\n    }, [callback]);\n\n    useEffect(() =\u003e {\n        function func() {\n            savedCallback.current();\n        }\n        if (delay !== null) {\n            let id = setInterval(func, delay);\n            return () =\u003e clearInterval(id);\n        }\n    }, [delay]);\n}\n\n```\n\n- `callback`: å®Ÿè¡Œã—ãŸã„å‡¦ç†\n- `delay`: å®Ÿè¡Œé–“éš”ï¼ˆãƒŸãƒªç§’ï¼‰ã€‚`null`ã®å ´åˆã¯å®Ÿè¡Œã‚’åœæ­¢ã—ã¾ã™ã€‚\n\n`useInterval`ã‚’ä½¿ç”¨ã™ã‚‹ã¨ã€ã‚¿ã‚¤ãƒãƒ¼ã®ãƒ­ã‚¸ãƒƒã‚¯ãŒç°¡æ½”ã«ãªã‚Šã€ä¾å­˜é–¢ä¿‚ã®ç®¡ç†ãŒã—æ˜“ããªã‚Šã¾ã™ã€‚\n\n---\n\n## `useInterval`ã®åˆ©ç”¨ä¾‹\n\nã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯ã‚’æ´»ç”¨ã™ã‚‹ã¨ã€ã‚¢ãƒ—ãƒªã®ãƒ­ã‚¸ãƒƒã‚¯ãŒã‚·ãƒ³ãƒ—ãƒ«ã«ãªã‚Šã¾ã™ã€‚\n\n```tsx\nimport React, { useState, useEffect } from 'react';\nimport { useInterval } from './useInterval';\n\nconst App = () =\u003e {\n    const [timer, setTimer] = useState(0);\n\n    const condition = () =\u003e {\n        // åˆ¥ã®stateã‚’ä½¿ã£ã¦æ¡ä»¶ã®è¨ˆç®—ï¼ˆä¾‹: ç‰¹å®šã®çŠ¶æ…‹ã‹ã©ã†ã‹ï¼‰\n    };\n\n    useInterval(() =\u003e {\n        setTimer((prevTimer) =\u003e prevTimer + 1);\n    }, condition ? 1000 : null);\n\n    useEffect(() =\u003e {\n        if (!condition) {\n            setTimer(0);\n        }\n    }, [condition]);\n\n    // ãã®ä»–ã®å‡¦ç†ã¯çœç•¥\n\n    return (\n        \u003cdiv\u003e\n            \u003ch1\u003eTimer: {timer}\u003c/h1\u003e\n        \u003c/div\u003e\n    );\n};\n\n```\n\n### ä¸»ãªãƒã‚¤ãƒ³ãƒˆ\n\n- `useInterval`ã‚’åˆ©ç”¨ã™ã‚‹ã“ã¨ã§ã€`setInterval`ã®ç®¡ç†ãŒæ˜ç¤ºçš„ã‹ã¤å®‰å…¨ã«ãªã‚Šã¾ã™ã€‚\n- `condition`ãŒ`false`ã®å ´åˆã¯`delay`ãŒ`null`ã«ãªã‚‹ãŸã‚ã€ã‚«ã‚¦ãƒ³ãƒˆã‚¢ãƒƒãƒ—ãŒåœæ­¢ã—ã€ã‚«ã‚¦ãƒ³ã‚¿ã‚’ãƒªã‚»ãƒƒãƒˆã—ã¾ã™ã€‚\n\n---\n\n# ã¾ã¨ã‚\n\n`setInterval`ã‚’Reactã§é©åˆ‡ã«æ‰±ã†ã«ã¯ã€ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£ã‚„ä¾å­˜é–¢ä¿‚ã®ç®¡ç†ã«æ³¨æ„ãŒå¿…è¦ã§ã™ã€‚\n\nä»Šå›ç´¹ä»‹ã—ãŸ`useInterval`ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§ã€ã‚³ãƒ¼ãƒ‰ã®å¯èª­æ€§ã¨å†åˆ©ç”¨æ€§ã‚’é«˜ã‚ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\n\nReacté–‹ç™ºã®ä¸­ã§`setInterval`ã‚’å®‰å…¨ã‹ã¤åŠ¹ç‡çš„ã«ä½¿ç”¨ã™ã‚‹æ–¹æ³•ã‚’å­¦ã³ã€ã‚ˆã‚Šæ´—ç·´ã•ã‚ŒãŸã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã‘ã‚‹ã‚ˆã†ã«ã—ã¦ã„ãã¾ã—ã‚‡ã†ï¼\n\n---\n\n# å‚è€ƒè³‡æ–™\n\nhttps://overreacted.io/making-setinterval-declarative-with-react-hooks/\n\nhttps://www.geeksforgeeks.org/reactjs-useinterval-custom-hook/\n\nhttps://usehooks-ts.com/react-hook/use-interval\n\n---\n\n","createdAt":"2025-05-19T08:50:57.429Z","updatedAt":"2025-06-05T23:53:22.743Z","publishedAt":"2025-06-05T23:53:22.753Z","docId":"bi47mel6x5t6qfakip03z15z","tags":[{"id":16,"documentId":"zg5iwdiznwk0mb2s77f9xta3","createdAt":"2025-05-19T09:48:07.933Z","updatedAt":"2025-05-19T09:48:07.933Z","publishedAt":"2025-05-19T09:48:07.940Z","name":"Frontend"},{"id":26,"documentId":"koshlmrejvmni8nxdnq7cir3","createdAt":"2025-05-19T09:50:01.361Z","updatedAt":"2025-05-19T09:50:01.361Z","publishedAt":"2025-05-19T09:50:01.379Z","name":"React"}],"thumbnail":[{"id":12,"documentId":"nex0mp610l9bngw1nihrdpvu","name":"20250513-08.png","alternativeText":null,"caption":null,"width":1503,"height":844,"formats":{"thumbnail":{"name":"thumbnail_20250513-08.png","hash":"thumbnail_20250513_08_a7cf147e40","ext":".png","mime":"image/png","path":null,"width":245,"height":138,"size":10.42,"sizeInBytes":10422,"url":"https://stg-raisex-tech-blog.s3.ap-northeast-1.amazonaws.com/thumbnail_20250513_08_a7cf147e40.png"},"medium":{"name":"medium_20250513-08.png","hash":"medium_20250513_08_a7cf147e40","ext":".png","mime":"image/png","path":null,"width":750,"height":421,"size":41.33,"sizeInBytes":41334,"url":"https://stg-raisex-tech-blog.s3.ap-northeast-1.amazonaws.com/medium_20250513_08_a7cf147e40.png"},"large":{"name":"large_20250513-08.png","hash":"large_20250513_08_a7cf147e40","ext":".png","mime":"image/png","path":null,"width":1000,"height":562,"size":57.76,"sizeInBytes":57756,"url":"https://stg-raisex-tech-blog.s3.ap-northeast-1.amazonaws.com/large_20250513_08_a7cf147e40.png"},"small":{"name":"small_20250513-08.png","hash":"small_20250513_08_a7cf147e40","ext":".png","mime":"image/png","path":null,"width":500,"height":281,"size":24.93,"sizeInBytes":24929,"url":"https://stg-raisex-tech-blog.s3.ap-northeast-1.amazonaws.com/small_20250513_08_a7cf147e40.png"}},"hash":"20250513_08_a7cf147e40","ext":".png","mime":"image/png","size":17.35,"url":"https://stg-raisex-tech-blog.s3.ap-northeast-1.amazonaws.com/20250513_08_a7cf147e40.png","previewUrl":null,"provider":"@strapi/provider-upload-aws-s3","provider_metadata":null,"createdAt":"2025-05-20T07:43:33.476Z","updatedAt":"2025-05-20T07:43:33.476Z","publishedAt":"2025-05-20T07:43:33.476Z"}]}},"__N_SSG":true},"page":"/articles/[id]","query":{"id":"a4m16knr39pl1td3e22hc0xz"},"buildId":"_saeqYYuk801MD-5UWwzK","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>