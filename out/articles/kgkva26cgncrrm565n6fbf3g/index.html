<!DOCTYPE html><html><head><meta charSet="utf-8"/><link rel="icon" href="/favicon.ico"/><meta name="viewport" content="width=device-width, initial-scale=1"/><meta name="description" content="最新の技術トレンド、プログラミング、ソフトウェア開発、ツールのレビュー、プロジェクト管理等についての考察をお届け"/><meta property="og:url" content="https://blog.raisex.jp/articles/kgkva26cgncrrm565n6fbf3g"/><meta property="og:title" content="レイズクロスTechBlog | さいたま市大宮区システム会社raisex運営"/><meta property="og:description" content="最新の技術トレンド、プログラミング、ソフトウェア開発、ツールのレビュー、プロジェクト管理等についての考察をお届け"/><meta property="og:image" content="https://blog.raisex.jphttps://stg-raisex-tech-blog.s3.ap-northeast-1.amazonaws.com/medium_20250513_21_37f2d57d1a.png"/><meta property="og:type" content="article"/><meta name="twitter:card" content="summary_large_image"/><title>Dockerで簡単構築！Ollamaを使ってLLMを試そう<!-- --> | レイズクロス Tech Blog</title><meta name="next-head-count" content="11"/><link rel="preload" href="/_next/static/css/7d757bdfdfb985a7.css" as="style"/><link rel="stylesheet" href="/_next/static/css/7d757bdfdfb985a7.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-42372ed130431b0a.js"></script><script src="/_next/static/chunks/webpack-2c547fd4592db0a6.js" defer=""></script><script src="/_next/static/chunks/framework-e952fed463eb8e34.js" defer=""></script><script src="/_next/static/chunks/main-72cf801a60c05482.js" defer=""></script><script src="/_next/static/chunks/pages/_app-b6737859a806843a.js" defer=""></script><script src="/_next/static/chunks/a2bf56a3-f921f321ae1e0e8d.js" defer=""></script><script src="/_next/static/chunks/61-43a5fb199f2ef164.js" defer=""></script><script src="/_next/static/chunks/257-c12ad0b16790f4c5.js" defer=""></script><script src="/_next/static/chunks/pages/articles/%5Bid%5D-29223262aecac2b3.js" defer=""></script><script src="/_next/static/_saeqYYuk801MD-5UWwzK/_buildManifest.js" defer=""></script><script src="/_next/static/_saeqYYuk801MD-5UWwzK/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="max-w-[1024px] mx-auto px-4"><header class="sticky top-0 z-20 bg-white border-b border-gray-200 h-12 flex items-center justify-between px-4"><a class="text-blue-600 no-underline hover:text-gray-600 text-lg font-bold" href="/">📋 レイズクロス Tech Blog</a><div class="flex gap-3"><a href="https://twitter.com/share" target="_blank" rel="noopener noreferrer"><img src="/icons/x.svg" alt="Share on X" class="h-7 w-7"/></a><a href="https://www.facebook.com/sharer/sharer.php" target="_blank" rel="noopener noreferrer"><img src="/icons/facebook.svg" alt="Share on Facebook" class="h-7 w-7"/></a><a href="https://social-plugins.line.me/lineit/share" target="_blank" rel="noopener noreferrer"><img src="/icons/line.svg" alt="Share on LINE" class="h-7 w-7"/></a></div></header><article class="prose prose-slate max-w-none pt-6"><h1 class="text-3xl font-bold border-b pb-2">Dockerで簡単構築！Ollamaを使ってLLMを試そう</h1><div class="text-sm text-gray-500 mb-4">投稿更新日: <!-- -->2025/6/6 9:01:09</div><div class="flex flex-wrap gap-2 mb-4"><span class="bg-blue-100 text-blue-800 text-xs font-semibold px-2 py-1 rounded-full">#<!-- -->LLM</span><span class="bg-blue-100 text-blue-800 text-xs font-semibold px-2 py-1 rounded-full">#<!-- -->Python</span><span class="bg-blue-100 text-blue-800 text-xs font-semibold px-2 py-1 rounded-full">#<!-- -->生成AI</span></div><div class="w-full flex justify-center mb-6"><img src="https://stg-raisex-tech-blog.s3.ap-northeast-1.amazonaws.com/medium_20250513_21_37f2d57d1a.png" alt="サムネイル" class="w-full max-w-[800px] h-auto rounded"/></div><p>最近話題の大規模言語モデル（LLM）を自分の環境で手軽に試したいと思いませんか？</p>
<p>この記事では、Dockerを使って <strong>ollama</strong> を動かす方法を解説します。</p>
<p>特に、CPU環境でサクッとセットアップできるので、LLM初心者やハードウェアリソースが限られている方にもおすすめです。</p>
<hr/>
<h1>1. Ollamaを動かすための準備</h1>
<p>まずは必要なファイルを作成します。</p>
<h2>Docker Composeファイルの作成</h2>
<p>以下の内容で <code class="bg-yellow-200 font-mono px-[0.3rem] py-[0.1rem] rounded whitespace-nowrap text-inherit">docker-compose.yml</code> を作成します。これにより、ollamaをDockerコンテナとして動かす設定が整います。</p>
<pre><div class="relative my-4"><button class="absolute top-2 right-2 text-xs bg-gray-700 text-white px-2 py-1 rounded hover:bg-gray-600">Copy</button><pre style="background:transparent;color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre-wrap;word-spacing:normal;word-break:break-word;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:0.75rem;margin:0;overflow:auto;border-radius:0.5rem;overflow-x:auto"><code class="language-yaml" style="white-space:pre;background:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token key" style="color:hsl(29, 54%, 61%)">services</span><span class="token" style="color:hsl(220, 14%, 71%)">:</span><span>
</span><span>  </span><span class="token key" style="color:hsl(29, 54%, 61%)">ollama</span><span class="token" style="color:hsl(220, 14%, 71%)">:</span><span>
</span><span>    </span><span class="token key" style="color:hsl(29, 54%, 61%)">image</span><span class="token" style="color:hsl(220, 14%, 71%)">:</span><span> ollama/ollama
</span><span>    </span><span class="token key" style="color:hsl(29, 54%, 61%)">container_name</span><span class="token" style="color:hsl(220, 14%, 71%)">:</span><span> ollama
</span><span>    </span><span class="token key" style="color:hsl(29, 54%, 61%)">ports</span><span class="token" style="color:hsl(220, 14%, 71%)">:</span><span>
</span><span>      </span><span class="token" style="color:hsl(220, 14%, 71%)">-</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">&quot;11434:11434&quot;</span><span>
</span><span>    </span><span class="token key" style="color:hsl(29, 54%, 61%)">volumes</span><span class="token" style="color:hsl(220, 14%, 71%)">:</span><span>
</span><span>      </span><span class="token" style="color:hsl(220, 14%, 71%)">-</span><span> ollama</span><span class="token" style="color:hsl(220, 14%, 71%)">:</span><span>/root/.ollama
</span>
<span></span><span class="token key" style="color:hsl(29, 54%, 61%)">volumes</span><span class="token" style="color:hsl(220, 14%, 71%)">:</span><span>
</span><span>  </span><span class="token key" style="color:hsl(29, 54%, 61%)">ollama</span><span class="token" style="color:hsl(220, 14%, 71%)">:</span><span>
</span></code></pre></div></pre>
<h2>コンテナの起動</h2>
<p>次に、以下のコマンドを実行してコンテナを起動します。</p>
<pre><div class="relative my-4"><button class="absolute top-2 right-2 text-xs bg-gray-700 text-white px-2 py-1 rounded hover:bg-gray-600">Copy</button><pre style="background:transparent;color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre-wrap;word-spacing:normal;word-break:break-word;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:0.75rem;margin:0;overflow:auto;border-radius:0.5rem;overflow-x:auto"><code class="language-bash" style="white-space:pre;background:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:hsl(207, 82%, 66%)">docker</span><span> compose up -d</span></code></pre></div></pre>
<p>これで、ollamaが立ち上がります。特にエラーが出なければ、次に進みましょう。</p>
<hr/>
<h1>2. tinyllamaモデルを試す</h1>
<p>起動したコンテナ内でtinyllamaモデルを利用できるように設定します。</p>
<h2>モデルをPullする</h2>
<p>以下のコマンドで、tinyllamaモデルを取得します。</p>
<pre><div class="relative my-4"><button class="absolute top-2 right-2 text-xs bg-gray-700 text-white px-2 py-1 rounded hover:bg-gray-600">Copy</button><pre style="background:transparent;color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre-wrap;word-spacing:normal;word-break:break-word;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:0.75rem;margin:0;overflow:auto;border-radius:0.5rem;overflow-x:auto"><code class="language-bash" style="white-space:pre;background:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:hsl(207, 82%, 66%)">docker</span><span> </span><span class="token" style="color:hsl(29, 54%, 61%)">exec</span><span> -it ollama ollama run tinyllama</span></code></pre></div></pre>
<p>取得したモデルはコンテナ内の <code class="bg-yellow-200 font-mono px-[0.3rem] py-[0.1rem] rounded whitespace-nowrap text-inherit">/root/.ollama</code> に保存されます。</p>
<hr/>
<h1>3. モデルに質問してみる</h1>
<p>tinyllamaを使って質問してみましょう。以下のコマンドを実行します。</p>
<h2>質問コマンド例</h2>
<pre><div class="relative my-4"><button class="absolute top-2 right-2 text-xs bg-gray-700 text-white px-2 py-1 rounded hover:bg-gray-600">Copy</button><pre style="background:transparent;color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre-wrap;word-spacing:normal;word-break:break-word;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:0.75rem;margin:0;overflow:auto;border-radius:0.5rem;overflow-x:auto"><code class="language-bash" style="white-space:pre;background:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:hsl(207, 82%, 66%)">curl</span><span> http://localhost:11434/api/generate -d </span><span class="token" style="color:hsl(95, 38%, 62%)">&#x27;{
</span><span class="token" style="color:hsl(95, 38%, 62%)">  &quot;model&quot;: &quot;tinyllama&quot;,
</span><span class="token" style="color:hsl(95, 38%, 62%)">  &quot;prompt&quot;: &quot;Why is the sky blue?&quot;,
</span><span class="token" style="color:hsl(95, 38%, 62%)">  &quot;stream&quot;: false
</span><span class="token" style="color:hsl(95, 38%, 62%)">}&#x27;</span></code></pre></div></pre>
<h2>サンプルレスポンス</h2>
<p>以下のようなレスポンスが返ってきます。</p>
<pre><div class="relative my-4"><button class="absolute top-2 right-2 text-xs bg-gray-700 text-white px-2 py-1 rounded hover:bg-gray-600">Copy</button><pre style="background:transparent;color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre-wrap;word-spacing:normal;word-break:break-word;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:0.75rem;margin:0;overflow:auto;border-radius:0.5rem;overflow-x:auto"><code class="language-json" style="white-space:pre;background:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span><span>  </span><span class="token" style="color:hsl(355, 65%, 65%)">&quot;model&quot;</span><span class="token" style="color:hsl(207, 82%, 66%)">:</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">&quot;tinyllama&quot;</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span>
</span><span>  </span><span class="token" style="color:hsl(355, 65%, 65%)">&quot;response&quot;</span><span class="token" style="color:hsl(207, 82%, 66%)">:</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">&quot;The sky blue color that we see in the sky is due to the presence of sunlight reflected by the Earth&#x27;s surface. ...&quot;</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span>
</span><span>  </span><span class="token" style="color:hsl(355, 65%, 65%)">&quot;done&quot;</span><span class="token" style="color:hsl(207, 82%, 66%)">:</span><span> </span><span class="token" style="color:hsl(29, 54%, 61%)">true</span><span>
</span><span></span><span class="token" style="color:hsl(220, 14%, 71%)">}</span></code></pre></div></pre>
<p>シンプルな設定でLLMを利用できましたね！</p>
<hr/>
<h1>4. Pythonからもっと便利に使う</h1>
<p>CLIだけでなく、Pythonスクリプトからもollamaを使うことができます。</p>
<h2>Pythonスクリプトの作成</h2>
<p>以下のコードを <code class="bg-yellow-200 font-mono px-[0.3rem] py-[0.1rem] rounded whitespace-nowrap text-inherit">ollama.py</code> というファイル名で保存してください。</p>
<pre><div class="relative my-4"><button class="absolute top-2 right-2 text-xs bg-gray-700 text-white px-2 py-1 rounded hover:bg-gray-600">Copy</button><pre style="background:transparent;color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre-wrap;word-spacing:normal;word-break:break-word;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:0.75rem;margin:0;overflow:auto;border-radius:0.5rem;overflow-x:auto"><code class="language-python" style="white-space:pre;background:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:hsl(286, 60%, 67%)">import</span><span> requests
</span>
<span></span><span class="token" style="color:hsl(220, 10%, 40%);font-style:italic"># Ollamaのエンドポイント</span><span>
</span><span>url </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">&quot;http://localhost:11434/api/generate&quot;</span><span>
</span>
<span></span><span class="token" style="color:hsl(220, 10%, 40%);font-style:italic"># モデル名を指定</span><span>
</span><span>model_name </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">&quot;tinyllama&quot;</span><span>
</span>
<span></span><span class="token" style="color:hsl(220, 10%, 40%);font-style:italic"># プロンプト</span><span>
</span><span>prompt </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">&quot;tell me about popular place in san diego.&quot;</span><span>
</span>
<span></span><span class="token" style="color:hsl(220, 10%, 40%);font-style:italic"># リクエストのペイロード</span><span>
</span><span>payload </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span><span>    </span><span class="token" style="color:hsl(95, 38%, 62%)">&quot;model&quot;</span><span class="token" style="color:hsl(220, 14%, 71%)">:</span><span> model_name</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span>
</span><span>    </span><span class="token" style="color:hsl(95, 38%, 62%)">&quot;prompt&quot;</span><span class="token" style="color:hsl(220, 14%, 71%)">:</span><span> prompt</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span>
</span><span>    </span><span class="token" style="color:hsl(95, 38%, 62%)">&quot;stream&quot;</span><span class="token" style="color:hsl(220, 14%, 71%)">:</span><span> </span><span class="token" style="color:hsl(29, 54%, 61%)">False</span><span>
</span><span></span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span>
</span>
<span></span><span class="token" style="color:hsl(220, 10%, 40%);font-style:italic"># リクエストの送信</span><span>
</span><span>response </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> requests</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span>post</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>url</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span> json</span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span>payload</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span>
</span>
<span></span><span class="token" style="color:hsl(220, 10%, 40%);font-style:italic"># レスポンスの確認</span><span>
</span><span></span><span class="token" style="color:hsl(286, 60%, 67%)">if</span><span> response</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span>status_code </span><span class="token" style="color:hsl(207, 82%, 66%)">==</span><span> </span><span class="token" style="color:hsl(29, 54%, 61%)">200</span><span class="token" style="color:hsl(220, 14%, 71%)">:</span><span>
</span><span>    </span><span class="token" style="color:hsl(286, 60%, 67%)">print</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(95, 38%, 62%)">&quot;Response:&quot;</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span> response</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span>json</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">[</span><span class="token" style="color:hsl(95, 38%, 62%)">&quot;response&quot;</span><span class="token" style="color:hsl(220, 14%, 71%)">]</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span>
</span><span></span><span class="token" style="color:hsl(286, 60%, 67%)">else</span><span class="token" style="color:hsl(220, 14%, 71%)">:</span><span>
</span><span>    </span><span class="token" style="color:hsl(286, 60%, 67%)">print</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(95, 38%, 62%)">&quot;Error:&quot;</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span> response</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span>status_code</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span> response</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span>text</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span>
</span></code></pre></div></pre>
<h2>スクリプトを実行</h2>
<p>以下のコマンドでスクリプトを実行します。</p>
<pre><div class="relative my-4"><button class="absolute top-2 right-2 text-xs bg-gray-700 text-white px-2 py-1 rounded hover:bg-gray-600">Copy</button><pre style="background:transparent;color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre-wrap;word-spacing:normal;word-break:break-word;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:0.75rem;margin:0;overflow:auto;border-radius:0.5rem;overflow-x:auto"><code class="language-bash" style="white-space:pre;background:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>python3 ollama.py</span></code></pre></div></pre>
<h2>実行結果</h2>
<p>例えば、以下のような回答が返ってきます。</p>
<pre><code class="bg-yellow-200 font-mono px-[0.3rem] py-[0.1rem] rounded whitespace-nowrap text-inherit">Response: San Diego is a popular tourist destination known for its beautiful beaches, rich history, world-class restaurants and attractions such as the San Diego Zoo, SeaWorld, Balboa Park, La Jolla Cove, Mission Valley Farmers Market, and more. Some of the most popular places to visit in San Diego include:

1) Balboa Park - home to numerous museums, gardens, and cultural attractions, such as the San Diego Museum of Art, California Museum of Photography, and the Mexican Heritage Plaza.

2) San Diego Zoo - one of the largest zoo complexes in the world, featuring over 3,000 animals from more than 800 species.

3) La Jolla Cove - a scenic spot located at the foot of Mount Soledad where visitors can observe sea lions, seals, and otters playfully swimming in the crystal-clear waters.

4) Mission Valley Farmers Market - an outdoor market featuring fresh produce, locally grown foods, and unique artisanal goods.

5) Coronado Island - a picturesque seaside village known for its charming streets lined with historic mansions, beautiful beaches, and a range of dining options.

6) USS Midway Museum - a restored World War II aircraft carrier that offers interactive exhibits, live-aboard tours, and memorabilia displays.

7) La Jolla Botanical Cactus Garden - an extensive collection of cacti and succulents, featuring native species from all over the world.

8) Torrey Pines State Natural Reserve - a scenic coastal reserve with hiking trails, picnic areas, and stunning views of the Pacific Ocean.

9) Balboa Park Golf Course - a 13-hole golf course located in San Diego&#x27;s Balboa Park that offers beautiful views of the city skyline.

10) Pacific Beach - a popular surfing spot known for its long beaches and stunning views of La Jolla Cove.

These are just a few examples of the many attractions and activities available in San Diego, but there&#x27;s always something new to discover at any time!
</code></pre>
<p>旅行のアドバイスから、技術的な質問まで、あらゆるプロンプトに答えてくれます！</p>
<hr/>
<h2>注意事項</h2>
<p>LLMが生成する回答は便利な一方で、必ずしも正確であるとは限りません。回答内容に誤りが含まれている場合や、曖昧な表現が使われていることがあります。そのため、重要な決定や判断を行う際には、他の信頼できる情報源と照らし合わせて確認してください。</p>
<hr/>
<h2>おわりに</h2>
<p>Dockerを使えば、ollamaのセットアップはとても簡単です。tinyllamaモデルを使った質問やPythonスクリプトによる応用など、ローカル環境でLLMを自由に試せるのは魅力的ですよね。次は、さらに高度なモデルを試してみるのも良いかもしれません。</p>
<p>ぜひこの記事を参考に、LLMの世界を体験してみてください！</p>
<hr/><div class="text-center mt-8"><a class="inline-block bg-gray-800 text-white no-underline px-4 py-2 rounded hover:bg-gray-700" href="/">← 記事一覧に戻る</a></div><div class="my-12 text-center"><p class="font-bold text-gray-800">合同会社raisexでは一緒に働く仲間を募集中です。</p><p class="text-sm text-gray-600 mb-4">ご興味のある方は以下の採用情報をご確認ください。</p><div class="flex justify-center"><div class="engage-recruit-widget" data-height="300" data-width="500" data-url="https://en-gage.net/raisex_jobs/widget/?banner=1"></div></div></div></article></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"article":{"id":269,"documentId":"kgkva26cgncrrm565n6fbf3g","title":"Dockerで簡単構築！Ollamaを使ってLLMを試そう","content":"最近話題の大規模言語モデル（LLM）を自分の環境で手軽に試したいと思いませんか？\n\nこの記事では、Dockerを使って **ollama** を動かす方法を解説します。\n\n特に、CPU環境でサクッとセットアップできるので、LLM初心者やハードウェアリソースが限られている方にもおすすめです。\n\n---\n\n# 1. Ollamaを動かすための準備\n\nまずは必要なファイルを作成します。\n\n## Docker Composeファイルの作成\n\n以下の内容で `docker-compose.yml` を作成します。これにより、ollamaをDockerコンテナとして動かす設定が整います。\n\n```yaml\nservices:\n  ollama:\n    image: ollama/ollama\n    container_name: ollama\n    ports:\n      - \"11434:11434\"\n    volumes:\n      - ollama:/root/.ollama\n\nvolumes:\n  ollama:\n\n```\n\n## コンテナの起動\n\n次に、以下のコマンドを実行してコンテナを起動します。\n\n```bash\ndocker compose up -d\n```\n\nこれで、ollamaが立ち上がります。特にエラーが出なければ、次に進みましょう。\n\n---\n\n# 2. tinyllamaモデルを試す\n\n起動したコンテナ内でtinyllamaモデルを利用できるように設定します。\n\n## モデルをPullする\n\n以下のコマンドで、tinyllamaモデルを取得します。\n\n```bash\ndocker exec -it ollama ollama run tinyllama\n```\n\n取得したモデルはコンテナ内の `/root/.ollama` に保存されます。\n\n---\n\n# 3. モデルに質問してみる\n\ntinyllamaを使って質問してみましょう。以下のコマンドを実行します。\n\n## 質問コマンド例\n\n```bash\ncurl http://localhost:11434/api/generate -d '{\n  \"model\": \"tinyllama\",\n  \"prompt\": \"Why is the sky blue?\",\n  \"stream\": false\n}'\n```\n\n## サンプルレスポンス\n\n以下のようなレスポンスが返ってきます。\n\n```json\n{\n  \"model\": \"tinyllama\",\n  \"response\": \"The sky blue color that we see in the sky is due to the presence of sunlight reflected by the Earth's surface. ...\",\n  \"done\": true\n}\n```\n\nシンプルな設定でLLMを利用できましたね！\n\n---\n\n# 4. Pythonからもっと便利に使う\n\nCLIだけでなく、Pythonスクリプトからもollamaを使うことができます。\n\n## Pythonスクリプトの作成\n\n以下のコードを `ollama.py` というファイル名で保存してください。\n\n```python\nimport requests\n\n# Ollamaのエンドポイント\nurl = \"http://localhost:11434/api/generate\"\n\n# モデル名を指定\nmodel_name = \"tinyllama\"\n\n# プロンプト\nprompt = \"tell me about popular place in san diego.\"\n\n# リクエストのペイロード\npayload = {\n    \"model\": model_name,\n    \"prompt\": prompt,\n    \"stream\": False\n}\n\n# リクエストの送信\nresponse = requests.post(url, json=payload)\n\n# レスポンスの確認\nif response.status_code == 200:\n    print(\"Response:\", response.json()[\"response\"])\nelse:\n    print(\"Error:\", response.status_code, response.text)\n\n```\n\n## スクリプトを実行\n\n以下のコマンドでスクリプトを実行します。\n\n```bash\npython3 ollama.py\n```\n\n## 実行結果\n\n例えば、以下のような回答が返ってきます。\n\n```\nResponse: San Diego is a popular tourist destination known for its beautiful beaches, rich history, world-class restaurants and attractions such as the San Diego Zoo, SeaWorld, Balboa Park, La Jolla Cove, Mission Valley Farmers Market, and more. Some of the most popular places to visit in San Diego include:\n\n1) Balboa Park - home to numerous museums, gardens, and cultural attractions, such as the San Diego Museum of Art, California Museum of Photography, and the Mexican Heritage Plaza.\n\n2) San Diego Zoo - one of the largest zoo complexes in the world, featuring over 3,000 animals from more than 800 species.\n\n3) La Jolla Cove - a scenic spot located at the foot of Mount Soledad where visitors can observe sea lions, seals, and otters playfully swimming in the crystal-clear waters.\n\n4) Mission Valley Farmers Market - an outdoor market featuring fresh produce, locally grown foods, and unique artisanal goods.\n\n5) Coronado Island - a picturesque seaside village known for its charming streets lined with historic mansions, beautiful beaches, and a range of dining options.\n\n6) USS Midway Museum - a restored World War II aircraft carrier that offers interactive exhibits, live-aboard tours, and memorabilia displays.\n\n7) La Jolla Botanical Cactus Garden - an extensive collection of cacti and succulents, featuring native species from all over the world.\n\n8) Torrey Pines State Natural Reserve - a scenic coastal reserve with hiking trails, picnic areas, and stunning views of the Pacific Ocean.\n\n9) Balboa Park Golf Course - a 13-hole golf course located in San Diego's Balboa Park that offers beautiful views of the city skyline.\n\n10) Pacific Beach - a popular surfing spot known for its long beaches and stunning views of La Jolla Cove.\n\nThese are just a few examples of the many attractions and activities available in San Diego, but there's always something new to discover at any time!\n```\n\n旅行のアドバイスから、技術的な質問まで、あらゆるプロンプトに答えてくれます！\n\n---\n\n## 注意事項\n\nLLMが生成する回答は便利な一方で、必ずしも正確であるとは限りません。回答内容に誤りが含まれている場合や、曖昧な表現が使われていることがあります。そのため、重要な決定や判断を行う際には、他の信頼できる情報源と照らし合わせて確認してください。\n\n---\n\n## おわりに\n\nDockerを使えば、ollamaのセットアップはとても簡単です。tinyllamaモデルを使った質問やPythonスクリプトによる応用など、ローカル環境でLLMを自由に試せるのは魅力的ですよね。次は、さらに高度なモデルを試してみるのも良いかもしれません。\n\nぜひこの記事を参考に、LLMの世界を体験してみてください！\n\n---\n\n","createdAt":"2025-05-19T08:50:58.302Z","updatedAt":"2025-06-06T00:01:09.822Z","publishedAt":"2025-06-06T00:01:09.838Z","docId":"b8ho0mhr2fggbjzykxhy7cmz","tags":[{"id":20,"documentId":"fbllyhmskvu2l7wbg5dzpkri","createdAt":"2025-05-19T09:48:50.341Z","updatedAt":"2025-05-19T09:48:50.341Z","publishedAt":"2025-05-19T09:48:50.348Z","name":"LLM"},{"id":22,"documentId":"enpfq0z697dadtxijwpwwrsv","createdAt":"2025-05-19T09:49:17.862Z","updatedAt":"2025-05-19T09:49:17.862Z","publishedAt":"2025-05-19T09:49:17.870Z","name":"Python"},{"id":30,"documentId":"d99cu6c3t9hgwynppb92lhph","createdAt":"2025-05-19T09:50:59.080Z","updatedAt":"2025-05-19T09:50:59.080Z","publishedAt":"2025-05-19T09:50:59.086Z","name":"生成AI"}],"thumbnail":[{"id":25,"documentId":"srxbmw4kyx2j920uv62we9ar","name":"20250513-21.png","alternativeText":null,"caption":null,"width":1503,"height":844,"formats":{"thumbnail":{"name":"thumbnail_20250513-21.png","hash":"thumbnail_20250513_21_37f2d57d1a","ext":".png","mime":"image/png","path":null,"width":245,"height":138,"size":13.65,"sizeInBytes":13645,"url":"https://stg-raisex-tech-blog.s3.ap-northeast-1.amazonaws.com/thumbnail_20250513_21_37f2d57d1a.png"},"medium":{"name":"medium_20250513-21.png","hash":"medium_20250513_21_37f2d57d1a","ext":".png","mime":"image/png","path":null,"width":750,"height":421,"size":54.48,"sizeInBytes":54479,"url":"https://stg-raisex-tech-blog.s3.ap-northeast-1.amazonaws.com/medium_20250513_21_37f2d57d1a.png"},"small":{"name":"small_20250513-21.png","hash":"small_20250513_21_37f2d57d1a","ext":".png","mime":"image/png","path":null,"width":500,"height":281,"size":33.6,"sizeInBytes":33597,"url":"https://stg-raisex-tech-blog.s3.ap-northeast-1.amazonaws.com/small_20250513_21_37f2d57d1a.png"},"large":{"name":"large_20250513-21.png","hash":"large_20250513_21_37f2d57d1a","ext":".png","mime":"image/png","path":null,"width":1000,"height":562,"size":76.8,"sizeInBytes":76802,"url":"https://stg-raisex-tech-blog.s3.ap-northeast-1.amazonaws.com/large_20250513_21_37f2d57d1a.png"}},"hash":"20250513_21_37f2d57d1a","ext":".png","mime":"image/png","size":21.58,"url":"https://stg-raisex-tech-blog.s3.ap-northeast-1.amazonaws.com/20250513_21_37f2d57d1a.png","previewUrl":null,"provider":"@strapi/provider-upload-aws-s3","provider_metadata":null,"createdAt":"2025-05-20T07:52:51.916Z","updatedAt":"2025-05-20T07:52:51.916Z","publishedAt":"2025-05-20T07:52:51.917Z"}]}},"__N_SSG":true},"page":"/articles/[id]","query":{"id":"kgkva26cgncrrm565n6fbf3g"},"buildId":"_saeqYYuk801MD-5UWwzK","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>